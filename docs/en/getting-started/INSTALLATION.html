<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CodeGraph documentation: Installation Guide">
  <meta name="keywords" content="CodeGraph, documentation, getting-started">

  <meta property="og:title" content="Installation Guide - CodeGraph">
  <meta property="og:description" content="CodeGraph documentation: Installation Guide">
  <meta property="og:type" content="article">

  <title>Installation Guide - CodeGraph Documentation</title>

  <link rel="icon" type="image/svg+xml" href="../../../assets/svg/logo-compact.svg">
  <link rel="stylesheet" href="../../../css/styles.css?v=2">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="nav container">
      <a href="../../../" class="logo">
        <img src="../../../assets/svg/logo.svg" alt="CodeGraph" width="160" height="40">
      </a>

      <ul class="nav-list">
        <li><a href="../../../index.html#problems" class="nav-link">Problems</a></li>
        <li><a href="../../../index.html#solution" class="nav-link">Solution</a></li>
        <li><a href="../../../index.html#features" class="nav-link">Features</a></li>
        <li><a href="../../../index.html#integrations" class="nav-link">Integrations</a></li>
        <li><a href="../index.html" class="nav-link active">Documentation</a></li>
        <li><a href="../../../index.html#faq" class="nav-link">FAQ</a></li>
      </ul>

      <div class="header-actions">
        <div class="lang-switcher">
          <a href="../../en/getting-started/INSTALLATION.html" class="active">EN</a>
          <a href="../../ru/getting-started/INSTALLATION.html" class="">RU</a>
        </div>
        <button class="theme-toggle" aria-label="Toggle theme">
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
        <a href="../../../index.html#demo" class="btn btn-primary">Request Demo</a>
      </div>

      <button class="mobile-menu-toggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </nav>
    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
      <ul class="mobile-nav-list">
        <li><a href="../../../index.html#problems" class="mobile-nav-link">Problems</a></li>
        <li><a href="../../../index.html#solution" class="mobile-nav-link">Solution</a></li>
        <li><a href="../../../index.html#features" class="mobile-nav-link">Features</a></li>
        <li><a href="../../../index.html#integrations" class="mobile-nav-link">Integrations</a></li>
        <li><a href="../index.html" class="mobile-nav-link">Documentation</a></li>
        <li><a href="../../../index.html#faq" class="mobile-nav-link">FAQ</a></li>
        <li><a href="../../../index.html#demo" class="btn btn-primary mobile-nav-demo-btn">Request Demo</a></li>
      </ul>
    </nav>
  </header>

  <div class="doc-layout">
    <!-- Sidebar Navigation -->
    <aside class="doc-sidebar">
      
    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Getting Started</div>
      <ul class="doc-sidebar-nav">
        <li><a href="index.html">Overview</a></li>
        <li><a href="CONFIGURATION.html">Configuration Guide</a></li>
        <li><a href="INSTALLATION.html" class="active">Installation Guide</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">User Guides</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../guides/index.html">Overview</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">API Reference</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../api/index.html">Overview</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Integrations</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../integrations/index.html">Overview</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Technical Reference</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../reference/index.html">Overview</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Enterprise</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../enterprise/index.html">Overview</a></li>
      </ul>
    </div>
    </aside>

    <!-- Main Content -->
    <main class="doc-main">
      <!-- Breadcrumb -->
      <nav class="doc-breadcrumb">
        <a href="../index.html">Documentation</a>
        <span>/</span>
        <a href="index.html">Getting Started</a>
        <span>/</span>
        <span>Installation Guide</span>
      </nav>

      <!-- Hero -->
      <div class="doc-hero">
        <h1>Installation Guide</h1>
        
      </div>

      <!-- Content -->
      <article class="doc-content">
        <h1 id="installation-guide">Installation Guide<a class="heading-anchor" href="#installation-guide" title="Link to this section">&para;</a></h1>
<p>Complete installation instructions for CodeGraph.</p>
<h2 id="table-of-contents">Table of Contents<a class="heading-anchor" href="#table-of-contents" title="Link to this section">&para;</a></h2>
<ul>
<li><a href="#system-requirements">System Requirements</a></li>
<li><a href="#hardware">Hardware</a></li>
<li><a href="#software">Software</a></li>
<li><a href="#step-1-environment-setup">Step 1: Environment Setup</a></li>
<li><a href="#step-2-postgresql-database-setup">Step 2: PostgreSQL Database Setup</a></li>
<li><a href="#install-postgresql">Install PostgreSQL</a></li>
<li><a href="#verify-postgresql-installation">Verify PostgreSQL Installation</a></li>
<li><a href="#configure-database-password">Configure Database Password</a></li>
<li><a href="#step-3-initialize-database">Step 3: Initialize Database</a></li>
<li><a href="#verify-database">Verify Database</a></li>
<li><a href="#step-4-create-admin-user">Step 4: Create Admin User</a></li>
<li><a href="#step-5-llm-provider-setup-optional">Step 5: LLM Provider Setup (Optional)</a></li>
<li><a href="#option-a-gigachat-recommended-for-russia">Option A: GigaChat (Recommended for Russia)</a></li>
<li><a href="#option-b-local-llm-llama-cpp-python">Option B: Local LLM (llama-cpp-python)</a></li>
<li><a href="#option-c-openai-api">Option C: OpenAI API</a></li>
<li><a href="#step-6-start-api-server">Step 6: Start API Server</a></li>
<li><a href="#step-7-verify-installation">Step 7: Verify Installation</a></li>
<li><a href="#access-api-documentation">Access API Documentation</a></li>
<li><a href="#test-health-endpoint">Test Health Endpoint</a></li>
<li><a href="#test-authentication">Test Authentication</a></li>
<li><a href="#test-authenticated-endpoint">Test Authenticated Endpoint</a></li>
<li><a href="#step-8-cpg-data-setup">Step 8: CPG Data Setup</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#postgresql-connection-failed">PostgreSQL Connection Failed</a></li>
<li><a href="#password-authentication-failed">Password Authentication Failed</a></li>
<li><a href="#database-does-not-exist">Database Does Not Exist</a></li>
<li><a href="#port-8000-already-in-use">Port 8000 Already in Use</a></li>
<li><a href="#cuda-not-found-for-local-llm">CUDA Not Found (for local LLM)</a></li>
<li><a href="#out-of-memory">Out of Memory</a></li>
<li><a href="#next-steps">Next Steps</a></li>
</ul>
<h2 id="system-requirements">System Requirements<a class="heading-anchor" href="#system-requirements" title="Link to this section">&para;</a></h2>
<h3 id="hardware">Hardware<a class="heading-anchor" href="#hardware" title="Link to this section">&para;</a></h3>
<ul>
<li><strong>CPU</strong>: 8+ cores recommended</li>
<li><strong>RAM</strong>: 16GB minimum (32GB+ for large codebases with local LLM)</li>
<li><strong>GPU</strong>: NVIDIA RTX 3090 or better (optional, for local LLM)</li>
<li><strong>Storage</strong>: 50GB free space</li>
</ul>
<h3 id="software">Software<a class="heading-anchor" href="#software" title="Link to this section">&para;</a></h3>
<ul>
<li>Windows 10/11 or Linux</li>
<li>Python 3.10+ (3.11 recommended)</li>
<li>PostgreSQL 15+ (required for API server)</li>
<li>Git</li>
<li>CUDA Toolkit 11.8+ (optional, for GPU-accelerated local LLM)</li>
</ul>
<h2 id="step-1-environment-setup">Step 1: Environment Setup<a class="heading-anchor" href="#step-1-environment-setup" title="Link to this section">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Clone repository</span>
git<span class="w"> </span>clone<span class="w"> </span>&lt;repository-url&gt;
<span class="nb">cd</span><span class="w"> </span>codegraph

<span class="c1"># Create conda environment (recommended)</span>
conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>codegraph<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.11
conda<span class="w"> </span>activate<span class="w"> </span>codegraph

<span class="c1"># OR create venv</span>
python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>venv
<span class="nb">source</span><span class="w"> </span>venv/bin/activate<span class="w">  </span><span class="c1"># On Windows: venv\Scripts\activate</span>

<span class="c1"># Install dependencies</span>
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre></div>

<h2 id="step-2-postgresql-database-setup">Step 2: PostgreSQL Database Setup<a class="heading-anchor" href="#step-2-postgresql-database-setup" title="Link to this section">&para;</a></h2>
<h3 id="install-postgresql">Install PostgreSQL<a class="heading-anchor" href="#install-postgresql" title="Link to this section">&para;</a></h3>
<p><strong>Windows:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c"># Download and install PostgreSQL 17 from:</span>
<span class="c"># https://www.postgresql.org/download/windows/</span>

<span class="c"># Or use Chocolatey:</span>
<span class="n">choco</span> <span class="n">install</span> <span class="n">postgresql</span>
</code></pre></div>

<p><strong>Linux:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ubuntu/Debian</span>
sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>postgresql<span class="w"> </span>postgresql-contrib

<span class="c1"># Fedora/RHEL</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>postgresql-server<span class="w"> </span>postgresql-contrib
sudo<span class="w"> </span>postgresql-setup<span class="w"> </span>--initdb
sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>postgresql
sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>postgresql
</code></pre></div>

<h3 id="verify-postgresql-installation">Verify PostgreSQL Installation<a class="heading-anchor" href="#verify-postgresql-installation" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check if PostgreSQL is running</span>
<span class="c1"># Windows (PowerShell):</span>
Get-Service<span class="w"> </span>postgresql*

<span class="c1"># Linux:</span>
sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>postgresql
</code></pre></div>

<h3 id="configure-database-password">Configure Database Password<a class="heading-anchor" href="#configure-database-password" title="Link to this section">&para;</a></h3>
<p>Set a password for the postgres user:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Linux:</span>
sudo<span class="w"> </span>-u<span class="w"> </span>postgres<span class="w"> </span>psql<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;ALTER USER postgres PASSWORD &#39;your_password&#39;;&quot;</span>

<span class="c1"># Windows:</span>
<span class="c1"># Open psql as postgres user and run:</span>
<span class="c1"># ALTER USER postgres PASSWORD &#39;your_password&#39;;</span>
</code></pre></div>

<p><strong>Important:</strong> Remember this password - you&rsquo;ll need it for the DATABASE_URL.</p>
<h2 id="step-3-initialize-database">Step 3: Initialize Database<a class="heading-anchor" href="#step-3-initialize-database" title="Link to this section">&para;</a></h2>
<p>Set the database connection string as an environment variable:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Replace &#39;your_password&#39; with your actual postgres password</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">&quot;postgresql+asyncpg://postgres:your_password@localhost:5432/codegraph&quot;</span>

<span class="c1"># Windows PowerShell:</span>
<span class="nv">$env</span>:DATABASE_URL<span class="o">=</span><span class="s2">&quot;postgresql+asyncpg://postgres:your_password@localhost:5432/codegraph&quot;</span>
</code></pre></div>

<p>Initialize the database using the project CLI:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create database and run migrations</span>
python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>init-db
</code></pre></div>

<p>This command will:
1. Create the <code>codegraph</code> database
2. Run Alembic migrations to create all tables
3. Initialize the database schema</p>
<h3 id="verify-database">Verify Database<a class="heading-anchor" href="#verify-database" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check tables were created</span>
<span class="c1"># Windows:</span>
<span class="s2">&quot;C:\Program Files\PostgreSQL\17\bin\psql.exe&quot;</span><span class="w"> </span>-U<span class="w"> </span>postgres<span class="w"> </span>-d<span class="w"> </span>codegraph<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;\dt&quot;</span>

<span class="c1"># Linux:</span>
psql<span class="w"> </span>-U<span class="w"> </span>postgres<span class="w"> </span>-d<span class="w"> </span>codegraph<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;\dt&quot;</span>
</code></pre></div>

<p>Expected tables:
- users
- api_keys
- sessions
- dialogue_turns
- audit_log
- background_jobs
- token_blacklist</p>
<h2 id="step-4-create-admin-user">Step 4: Create Admin User<a class="heading-anchor" href="#step-4-create-admin-user" title="Link to this section">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Create admin user with username and password</span>
python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>create-admin<span class="w"> </span>--username<span class="w"> </span>admin<span class="w"> </span>--password<span class="w"> </span>&lt;your_admin_password&gt;

<span class="c1"># Optionally add email</span>
python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>create-admin<span class="w"> </span>--username<span class="w"> </span>admin<span class="w"> </span>--password<span class="w"> </span>&lt;password&gt;<span class="w"> </span>--email<span class="w"> </span>admin@example.com
</code></pre></div>

<p>Save your admin credentials - you&rsquo;ll need them to access the API.</p>
<h2 id="step-5-llm-provider-setup-optional">Step 5: LLM Provider Setup (Optional)<a class="heading-anchor" href="#step-5-llm-provider-setup-optional" title="Link to this section">&para;</a></h2>
<p>The API server can run without an LLM provider configured (for testing). Configure an LLM provider for full functionality:</p>
<h3 id="option-a-gigachat-recommended-for-russia">Option A: GigaChat (Recommended for Russia)<a class="heading-anchor" href="#option-a-gigachat-recommended-for-russia" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Set environment variable</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">GIGACHAT_AUTH_KEY</span><span class="o">=</span><span class="s2">&quot;your_auth_key&quot;</span>

<span class="c1"># Update config.yaml</span>
<span class="c1"># llm:</span>
<span class="c1">#   provider: gigachat</span>
</code></pre></div>

<p>See <a href="../integrations/GIGACHAT.html">GigaChat Integration</a> for details.</p>
<h3 id="option-b-local-llm-llama-cpp-python">Option B: Local LLM (llama-cpp-python)<a class="heading-anchor" href="#option-b-local-llm-llama-cpp-python" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Install llama-cpp-python with CUDA support</span>
<span class="nv">CMAKE_ARGS</span><span class="o">=</span><span class="s2">&quot;-DLLAMA_CUDA=on&quot;</span><span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>llama-cpp-python

<span class="c1"># Download model (Qwen3-Coder-30B recommended)</span>
<span class="c1"># Place in: ~/.lmstudio/models/</span>

<span class="c1"># Update config.yaml</span>
<span class="c1"># llm:</span>
<span class="c1">#   provider: local</span>
<span class="c1">#   model_path: path/to/model.gguf</span>
</code></pre></div>

<h3 id="option-c-openai-api">Option C: OpenAI API<a class="heading-anchor" href="#option-c-openai-api" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">OPENAI_API_KEY</span><span class="o">=</span><span class="s2">&quot;your_api_key&quot;</span>

<span class="c1"># Update config.yaml</span>
<span class="c1"># llm:</span>
<span class="c1">#   provider: openai</span>
<span class="c1">#   model: gpt-4</span>
</code></pre></div>

<h2 id="step-6-start-api-server">Step 6: Start API Server<a class="heading-anchor" href="#step-6-start-api-server" title="Link to this section">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Set database URL (if not already set)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">&quot;postgresql+asyncpg://postgres:your_password@localhost:5432/codegraph&quot;</span>

<span class="c1"># Start the server</span>
python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>run<span class="w"> </span>--host<span class="w"> </span><span class="m">127</span>.0.0.1<span class="w"> </span>--port<span class="w"> </span><span class="m">8000</span>

<span class="c1"># For development with auto-reload:</span>
python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>run<span class="w"> </span>--host<span class="w"> </span><span class="m">127</span>.0.0.1<span class="w"> </span>--port<span class="w"> </span><span class="m">8000</span><span class="w"> </span>--reload
</code></pre></div>

<p>The server will start on http://127.0.0.1:8000</p>
<h2 id="step-7-verify-installation">Step 7: Verify Installation<a class="heading-anchor" href="#step-7-verify-installation" title="Link to this section">&para;</a></h2>
<h3 id="access-api-documentation">Access API Documentation<a class="heading-anchor" href="#access-api-documentation" title="Link to this section">&para;</a></h3>
<p>Open your browser and visit:
- <strong>Swagger UI</strong>: http://127.0.0.1:8000/api/docs
- <strong>ReDoc</strong>: http://127.0.0.1:8000/api/redoc</p>
<h3 id="test-health-endpoint">Test Health Endpoint<a class="heading-anchor" href="#test-health-endpoint" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>http://127.0.0.1:8000/api/v1/health
</code></pre></div>

<p>Expected response:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;components&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;postgresql&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PostgreSQL 17.x ...&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="test-authentication">Test Authentication<a class="heading-anchor" href="#test-authentication" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Get access token</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://127.0.0.1:8000/api/v1/auth/token<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;your_admin_password&quot;}&#39;</span>
</code></pre></div>

<p>Expected response:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;access_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJ...&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;refresh_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJ...&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;token_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bearer&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;expires_in&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1800</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="test-authenticated-endpoint">Test Authenticated Endpoint<a class="heading-anchor" href="#test-authenticated-endpoint" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Replace TOKEN with your access_token from above</span>
curl<span class="w"> </span>http://127.0.0.1:8000/api/v1/scenarios<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer TOKEN&quot;</span>
</code></pre></div>

<h2 id="step-8-cpg-data-setup">Step 8: CPG Data Setup<a class="heading-anchor" href="#step-8-cpg-data-setup" title="Link to this section">&para;</a></h2>
<p>CodeGraph uses pre-exported CPG data stored in DuckDB. If you have CPG data:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Place your CPG database in the project directory</span>
cp<span class="w"> </span>/path/to/cpg.duckdb<span class="w"> </span>./cpg.duckdb

<span class="c1"># Update config.yaml with the path</span>
<span class="c1"># cpg:</span>
<span class="c1">#   db_path: cpg.duckdb</span>
</code></pre></div>

<p>For creating new CPG exports from source code, see <a href="../guides/CPG_EXPORT.html">CPG Export Guide</a>.</p>
<blockquote class="callout">
<p><strong>Note:</strong> Joern is no longer required for normal operation. CPG data is pre-exported to DuckDB format.
For legacy Joern integration, see <a href="../archive/JOERN_LEGACY.html">Joern Legacy Guide</a>.</p>
</blockquote>
<h2 id="troubleshooting">Troubleshooting<a class="heading-anchor" href="#troubleshooting" title="Link to this section">&para;</a></h2>
<h3 id="postgresql-connection-failed">PostgreSQL Connection Failed<a class="heading-anchor" href="#postgresql-connection-failed" title="Link to this section">&para;</a></h3>
<p><strong>Error:</strong> <code>connection to server at "localhost" failed</code></p>
<p><strong>Solution:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check PostgreSQL is running</span>
<span class="c1"># Windows:</span>
Get-Service<span class="w"> </span>postgresql*

<span class="c1"># Linux:</span>
sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>postgresql

<span class="c1"># Start if not running</span>
sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>postgresql
</code></pre></div>

<h3 id="password-authentication-failed">Password Authentication Failed<a class="heading-anchor" href="#password-authentication-failed" title="Link to this section">&para;</a></h3>
<p><strong>Error:</strong> <code>password authentication failed for user "postgres"</code></p>
<p><strong>Solution:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Reset postgres password</span>
<span class="c1"># Linux:</span>
sudo<span class="w"> </span>-u<span class="w"> </span>postgres<span class="w"> </span>psql<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;ALTER USER postgres PASSWORD &#39;new_password&#39;;&quot;</span>

<span class="c1"># Update DATABASE_URL with new password</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">&quot;postgresql+asyncpg://postgres:new_password@localhost:5432/codegraph&quot;</span>
</code></pre></div>

<h3 id="database-does-not-exist">Database Does Not Exist<a class="heading-anchor" href="#database-does-not-exist" title="Link to this section">&para;</a></h3>
<p><strong>Error:</strong> <code>database "codegraph" does not exist</code></p>
<p><strong>Solution:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create database manually</span>
psql<span class="w"> </span>-U<span class="w"> </span>postgres<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;CREATE DATABASE codegraph ENCODING &#39;UTF8&#39;;&quot;</span>

<span class="c1"># Then run init-db again</span>
python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>init-db
</code></pre></div>

<h3 id="port-8000-already-in-use">Port 8000 Already in Use<a class="heading-anchor" href="#port-8000-already-in-use" title="Link to this section">&para;</a></h3>
<p><strong>Error:</strong> <code>error while attempting to bind on address ('127.0.0.1', 8000)</code></p>
<p><strong>Solution:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Find process using port 8000</span>
<span class="c1"># Windows:</span>
netstat<span class="w"> </span>-ano<span class="w"> </span><span class="p">|</span><span class="w"> </span>findstr<span class="w"> </span>:8000

<span class="c1"># Kill the process (replace PID with actual process ID)</span>
taskkill<span class="w"> </span>/F<span class="w"> </span>/PID<span class="w"> </span>&lt;PID&gt;

<span class="c1"># Linux:</span>
lsof<span class="w"> </span>-ti:8000<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span><span class="nb">kill</span><span class="w"> </span>-9

<span class="c1"># Or use a different port</span>
python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>run<span class="w"> </span>--host<span class="w"> </span><span class="m">127</span>.0.0.1<span class="w"> </span>--port<span class="w"> </span><span class="m">8001</span>
</code></pre></div>

<h3 id="cuda-not-found-for-local-llm">CUDA Not Found (for local LLM)<a class="heading-anchor" href="#cuda-not-found-for-local-llm" title="Link to this section">&para;</a></h3>
<p><strong>Error:</strong> <code>CUDA not available</code></p>
<p><strong>Solution:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check CUDA installation</span>
nvcc<span class="w"> </span>--version
nvidia-smi

<span class="c1"># Reinstall PyTorch with CUDA</span>
pip<span class="w"> </span>uninstall<span class="w"> </span>torch
pip<span class="w"> </span>install<span class="w"> </span>torch<span class="w"> </span>--index-url<span class="w"> </span>https://download.pytorch.org/whl/cu118
</code></pre></div>

<h3 id="out-of-memory">Out of Memory<a class="heading-anchor" href="#out-of-memory" title="Link to this section">&para;</a></h3>
<p>For systems with limited RAM:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Reduce settings in config.yaml</span>
<span class="nt">retrieval</span><span class="p">:</span>
<span class="w">  </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w">  </span><span class="c1"># Lower from 100</span>
<span class="w">  </span><span class="nt">top_k</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w">        </span><span class="c1"># Lower from 10</span>
</code></pre></div>

<h2 id="next-steps">Next Steps<a class="heading-anchor" href="#next-steps" title="Link to this section">&para;</a></h2>
<ul>
<li><a href="CONFIGURATION.html">Configuration</a> - Customize API settings, authentication, and providers</li>
<li><a href="README.html">Quick Start Guide</a> - Get started with common use cases</li>
<li><a href="../guides/TUI_USER_GUIDE.html">TUI User Guide</a> - Learn to use the system</li>
<li><a href="../api/REST_API.html">API Reference</a> - Explore API endpoints</li>
<li><a href="../guides/TROUBLESHOOTING.html">Troubleshooting</a> - Common issues and solutions</li>
</ul>
      </article>

      <!-- Page Navigation -->
      <nav class="doc-page-nav">

      <a href="index.html" class="doc-page-nav-prev">
        <span class="doc-page-nav-label">Previous</span>
        <span class="doc-page-nav-title">Overview</span>
      </a>

      <a href="CONFIGURATION.html" class="doc-page-nav-next">
        <span class="doc-page-nav-label">Next</span>
        <span class="doc-page-nav-title">Configuration Guide</span>
      </a>
    </nav>

      <!-- Footer -->
      <footer class="doc-footer">
        <span>Last updated: 2025-12-25</span>
        <a href="https://github.com/your-org/codegraph/edit/main/docs/getting-started/INSTALLATION.md" target="_blank" rel="noopener">Edit on GitHub</a>
      </footer>
    </main>

    <!-- Table of Contents -->
    <aside class="doc-toc">
      <div class="doc-toc-title">On this page</div>
      <ul class="doc-toc-list">
        <li><a href="#installation-guide" class="level-1">Installation Guide</a></li>
<li><a href="#table-of-contents" class="level-2">Table of Contents</a></li>
<li><a href="#system-requirements" class="level-2">System Requirements</a></li>
<li><a href="#hardware" class="level-3">Hardware</a></li>
<li><a href="#software" class="level-3">Software</a></li>
<li><a href="#step-1-environment-setup" class="level-2">Step 1: Environment Setup</a></li>
<li><a href="#clone-repository" class="level-1">Clone repository</a></li>
<li><a href="#create-conda-environment-recommended" class="level-1">Create conda environment (recommended)</a></li>
<li><a href="#or-create-venv" class="level-1">OR create venv</a></li>
<li><a href="#install-dependencies" class="level-1">Install dependencies</a></li>
<li><a href="#step-2-postgresql-database-setup" class="level-2">Step 2: PostgreSQL Database Setup</a></li>
<li><a href="#install-postgresql" class="level-3">Install PostgreSQL</a></li>
<li><a href="#download-and-install-postgresql-17-from" class="level-1">Download and install PostgreSQL 17 from:</a></li>
<li><a href="#httpswwwpostgresqlorgdownloadwindows" class="level-1">https://www.postgresql.org/download/windows/</a></li>
<li><a href="#or-use-chocolatey" class="level-1">Or use Chocolatey:</a></li>
<li><a href="#ubuntudebian" class="level-1">Ubuntu/Debian</a></li>
<li><a href="#fedorarhel" class="level-1">Fedora/RHEL</a></li>
<li><a href="#verify-postgresql-installation" class="level-3">Verify PostgreSQL Installation</a></li>
<li><a href="#check-if-postgresql-is-running" class="level-1">Check if PostgreSQL is running</a></li>
<li><a href="#windows-powershell" class="level-1">Windows (PowerShell):</a></li>
<li><a href="#linux" class="level-1">Linux:</a></li>
<li><a href="#configure-database-password" class="level-3">Configure Database Password</a></li>
<li><a href="#linux" class="level-1">Linux:</a></li>
<li><a href="#windows" class="level-1">Windows:</a></li>
<li><a href="#open-psql-as-postgres-user-and-run" class="level-1">Open psql as postgres user and run:</a></li>
<li><a href="#alter-user-postgres-password-your-password" class="level-1">ALTER USER postgres PASSWORD 'your_password';</a></li>
<li><a href="#step-3-initialize-database" class="level-2">Step 3: Initialize Database</a></li>
<li><a href="#replace-your-password-with-your-actual-postgres-password" class="level-1">Replace 'your_password' with your actual postgres password</a></li>
<li><a href="#windows-powershell" class="level-1">Windows PowerShell:</a></li>
<li><a href="#create-database-and-run-migrations" class="level-1">Create database and run migrations</a></li>
<li><a href="#verify-database" class="level-3">Verify Database</a></li>
<li><a href="#check-tables-were-created" class="level-1">Check tables were created</a></li>
<li><a href="#windows" class="level-1">Windows:</a></li>
<li><a href="#linux" class="level-1">Linux:</a></li>
<li><a href="#step-4-create-admin-user" class="level-2">Step 4: Create Admin User</a></li>
<li><a href="#create-admin-user-with-username-and-password" class="level-1">Create admin user with username and password</a></li>
<li><a href="#optionally-add-email" class="level-1">Optionally add email</a></li>
<li><a href="#step-5-llm-provider-setup-optional" class="level-2">Step 5: LLM Provider Setup (Optional)</a></li>
<li><a href="#option-a-gigachat-recommended-for-russia" class="level-3">Option A: GigaChat (Recommended for Russia)</a></li>
<li><a href="#set-environment-variable" class="level-1">Set environment variable</a></li>
<li><a href="#update-configyaml" class="level-1">Update config.yaml</a></li>
<li><a href="#llm" class="level-1">llm:</a></li>
<li><a href="#provider-gigachat" class="level-1">provider: gigachat</a></li>
<li><a href="#option-b-local-llm-llama-cpp-python" class="level-3">Option B: Local LLM (llama-cpp-python)</a></li>
<li><a href="#install-llama-cpp-python-with-cuda-support" class="level-1">Install llama-cpp-python with CUDA support</a></li>
<li><a href="#download-model-qwen3-coder-30b-recommended" class="level-1">Download model (Qwen3-Coder-30B recommended)</a></li>
<li><a href="#place-in-lmstudiomodels" class="level-1">Place in: ~/.lmstudio/models/</a></li>
<li><a href="#update-configyaml" class="level-1">Update config.yaml</a></li>
<li><a href="#llm" class="level-1">llm:</a></li>
<li><a href="#provider-local" class="level-1">provider: local</a></li>
<li><a href="#model-path-pathtomodelgguf" class="level-1">model_path: path/to/model.gguf</a></li>
<li><a href="#option-c-openai-api" class="level-3">Option C: OpenAI API</a></li>
<li><a href="#update-configyaml" class="level-1">Update config.yaml</a></li>
<li><a href="#llm" class="level-1">llm:</a></li>
<li><a href="#provider-openai" class="level-1">provider: openai</a></li>
<li><a href="#model-gpt-4" class="level-1">model: gpt-4</a></li>
<li><a href="#step-6-start-api-server" class="level-2">Step 6: Start API Server</a></li>
<li><a href="#set-database-url-if-not-already-set" class="level-1">Set database URL (if not already set)</a></li>
<li><a href="#start-the-server" class="level-1">Start the server</a></li>
<li><a href="#for-development-with-auto-reload" class="level-1">For development with auto-reload:</a></li>
<li><a href="#step-7-verify-installation" class="level-2">Step 7: Verify Installation</a></li>
<li><a href="#access-api-documentation" class="level-3">Access API Documentation</a></li>
<li><a href="#test-health-endpoint" class="level-3">Test Health Endpoint</a></li>
<li><a href="#test-authentication" class="level-3">Test Authentication</a></li>
<li><a href="#get-access-token" class="level-1">Get access token</a></li>
<li><a href="#test-authenticated-endpoint" class="level-3">Test Authenticated Endpoint</a></li>
<li><a href="#replace-token-with-your-access-token-from-above" class="level-1">Replace TOKEN with your access_token from above</a></li>
<li><a href="#step-8-cpg-data-setup" class="level-2">Step 8: CPG Data Setup</a></li>
<li><a href="#place-your-cpg-database-in-the-project-directory" class="level-1">Place your CPG database in the project directory</a></li>
<li><a href="#update-configyaml-with-the-path" class="level-1">Update config.yaml with the path</a></li>
<li><a href="#cpg" class="level-1">cpg:</a></li>
<li><a href="#db-path-cpgduckdb" class="level-1">db_path: cpg.duckdb</a></li>
<li><a href="#troubleshooting" class="level-2">Troubleshooting</a></li>
<li><a href="#postgresql-connection-failed" class="level-3">PostgreSQL Connection Failed</a></li>
<li><a href="#check-postgresql-is-running" class="level-1">Check PostgreSQL is running</a></li>
<li><a href="#windows" class="level-1">Windows:</a></li>
<li><a href="#linux" class="level-1">Linux:</a></li>
<li><a href="#start-if-not-running" class="level-1">Start if not running</a></li>
<li><a href="#password-authentication-failed" class="level-3">Password Authentication Failed</a></li>
<li><a href="#reset-postgres-password" class="level-1">Reset postgres password</a></li>
<li><a href="#linux" class="level-1">Linux:</a></li>
<li><a href="#update-database-url-with-new-password" class="level-1">Update DATABASE_URL with new password</a></li>
<li><a href="#database-does-not-exist" class="level-3">Database Does Not Exist</a></li>
<li><a href="#create-database-manually" class="level-1">Create database manually</a></li>
<li><a href="#then-run-init-db-again" class="level-1">Then run init-db again</a></li>
<li><a href="#port-8000-already-in-use" class="level-3">Port 8000 Already in Use</a></li>
<li><a href="#find-process-using-port-8000" class="level-1">Find process using port 8000</a></li>
<li><a href="#windows" class="level-1">Windows:</a></li>
<li><a href="#kill-the-process-replace-pid-with-actual-process-id" class="level-1">Kill the process (replace PID with actual process ID)</a></li>
<li><a href="#linux" class="level-1">Linux:</a></li>
<li><a href="#or-use-a-different-port" class="level-1">Or use a different port</a></li>
<li><a href="#cuda-not-found-for-local-llm" class="level-3">CUDA Not Found (for local LLM)</a></li>
<li><a href="#check-cuda-installation" class="level-1">Check CUDA installation</a></li>
<li><a href="#reinstall-pytorch-with-cuda" class="level-1">Reinstall PyTorch with CUDA</a></li>
<li><a href="#out-of-memory" class="level-3">Out of Memory</a></li>
<li><a href="#reduce-settings-in-configyaml" class="level-1">Reduce settings in config.yaml</a></li>
<li><a href="#next-steps" class="level-2">Next Steps</a></li>
      </ul>
    </aside>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <img src="../../../assets/svg/logo.svg" alt="CodeGraph" width="160" height="40">
          <p>AI copilot for source code analysis</p>
        </div>
        <div class="footer-links">
          <div class="footer-links-group">
            <h4>Product</h4>
            <ul class="footer-links-list">
              <li><a href="../../../index.html#features" class="footer-link">Features</a></li>
              <li><a href="../../../index.html#integrations" class="footer-link">Integrations</a></li>
              <li><a href="../../../index.html#faq" class="footer-link">FAQ</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Documentation</h4>
            <ul class="footer-links-list">
              <li><a href="../getting-started/index.html" class="footer-link">Getting Started</a></li>
              <li><a href="../guides/index.html" class="footer-link">Guides</a></li>
              <li><a href="../api/index.html" class="footer-link">API</a></li>
              <li><a href="../enterprise/index.html" class="footer-link">Enterprise</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Resources</h4>
            <ul class="footer-links-list">
              <li><a href="../../../whitepaper.html" class="footer-link">Whitepaper</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Contacts</h4>
            <ul class="footer-links-list">
              <li><a href="mailto:hello@codegraph.ru" class="footer-link">hello@codegraph.ru</a></li>
              <li><a href="https://t.me/codegraph" class="footer-link" target="_blank" rel="noopener">Telegram</a></li>
              <li><a href="https://github.com/codegraph" class="footer-link" target="_blank" rel="noopener">GitHub</a></li>
            </ul>
            <div class="footer-social">
              <a href="https://t.me/codegraph" class="footer-social-link" target="_blank" rel="noopener" aria-label="Telegram">
                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                </svg>
              </a>
              <a href="https://github.com/codegraph" class="footer-social-link" target="_blank" rel="noopener" aria-label="GitHub">
                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 CodeGraph. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script src="../../../js/main.js"></script>
</body>
</html>
