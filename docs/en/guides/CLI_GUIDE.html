<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CodeGraph documentation: CLI Guide">
  <meta name="keywords" content="CodeGraph, documentation, guides">

  <meta property="og:title" content="CLI Guide - CodeGraph">
  <meta property="og:description" content="CodeGraph documentation: CLI Guide">
  <meta property="og:type" content="article">

  <title>CLI Guide - CodeGraph Documentation</title>

  <link rel="icon" type="image/svg+xml" href="../../../assets/svg/logo-compact.svg">
  <link rel="stylesheet" href="../../../css/styles.css?v=2">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="nav container">
      <a href="../../../" class="logo">
        <img src="../../../assets/svg/logo.svg" alt="CodeGraph" width="160" height="40">
      </a>

      <ul class="nav-list">
        <li><a href="../../../index.html#problems" class="nav-link">Problems</a></li>
        <li><a href="../../../index.html#solution" class="nav-link">Solution</a></li>
        <li><a href="../../../index.html#features" class="nav-link">Features</a></li>
        <li><a href="../../../index.html#integrations" class="nav-link">Integrations</a></li>
        <li><a href="../index.html" class="nav-link active">Documentation</a></li>
        <li><a href="../../../index.html#faq" class="nav-link">FAQ</a></li>
      </ul>

      <div class="header-actions">
        <div class="lang-switcher">
          <a href="../../en/guides/CLI_GUIDE.html" class="active">EN</a>
          <a href="../../ru/guides/CLI_GUIDE.html" class="">RU</a>
        </div>
        <button class="theme-toggle" aria-label="Toggle theme">
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
        <a href="../../../index.html#demo" class="btn btn-primary">Request Demo</a>
      </div>

      <button class="mobile-menu-toggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </nav>
    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
      <ul class="mobile-nav-list">
        <li><a href="../../../index.html#problems" class="mobile-nav-link">Problems</a></li>
        <li><a href="../../../index.html#solution" class="mobile-nav-link">Solution</a></li>
        <li><a href="../../../index.html#features" class="mobile-nav-link">Features</a></li>
        <li><a href="../../../index.html#integrations" class="mobile-nav-link">Integrations</a></li>
        <li><a href="../index.html" class="mobile-nav-link">Documentation</a></li>
        <li><a href="../../../index.html#faq" class="mobile-nav-link">FAQ</a></li>
        <li><a href="../../../index.html#demo" class="btn btn-primary mobile-nav-demo-btn">Request Demo</a></li>
      </ul>
    </nav>
  </header>

  <div class="doc-layout">
    <!-- Sidebar Navigation -->
    <aside class="doc-sidebar">
      
    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Getting Started</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../getting-started/index.html">Overview</a></li>
        <li><a href="../getting-started/CONFIGURATION.html">Configuration Guide</a></li>
        <li><a href="../getting-started/INSTALLATION.html">Installation Guide</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">User Guides</div>
      <ul class="doc-sidebar-nav">
        <li><a href="index.html">Overview</a></li>
        <li><a href="BENCHMARK_GUIDE.html">Benchmark Framework Guide</a></li>
        <li><a href="CLI_GUIDE.html" class="active">CLI Guide</a></li>
        <li><a href="CODE_REVIEW.html">Automated Patch-Based Code Review System</a></li>
        <li><a href="CPG_EXPORT.html">CPG Export Guide</a></li>
        <li><a href="MONITORING.html">Monitoring Guide</a></li>
        <li><a href="PROGRAMMATIC_GUIDE.html">User Guide</a></li>
        <li><a href="PROJECT_IMPORT.html">Importing a New Codebase</a></li>
        <li><a href="QUICK_REFERENCE.html">CodeGraph Quick Reference</a></li>
        <li><a href="REFACTORING.html">Refactoring Analysis Guide</a></li>
        <li><a href="SCENARIOS.html">Workflow Scenarios Guide</a></li>
        <li><a href="TROUBLESHOOTING.html">Troubleshooting Guide</a></li>
        <li><a href="TUI_USER_GUIDE.html">CodeGraph User Guide</a></li>
        <li><a href="01-onboarding.html">Scenario 01: Developer Onboarding</a></li>
        <li><a href="02-security-audit.html">Scenario 02: Security Audit</a></li>
        <li><a href="03-documentation.html">Scenario 03: Documentation Generation</a></li>
        <li><a href="04-feature-development.html">Scenario 04: Feature Development</a></li>
        <li><a href="05-refactoring.html">Scenario 05: Refactoring</a></li>
        <li><a href="06-performance.html">Scenario 06: Performance Analysis</a></li>
        <li><a href="07-test-coverage.html">Scenario 07: Test Coverage</a></li>
        <li><a href="08-compliance.html">Scenario 08: Compliance Checking</a></li>
        <li><a href="09-code-review.html">Scenario 09: Code Review</a></li>
        <li><a href="10-cross-repo.html">Scenario 10: Cross-Repository Analysis</a></li>
        <li><a href="11-architecture.html">Scenario 11: Architecture Analysis</a></li>
        <li><a href="12-tech-debt.html">Scenario 12: Tech Debt Assessment</a></li>
        <li><a href="13-mass-refactoring.html">Scenario 13: Mass Refactoring</a></li>
        <li><a href="14-incident-response.html">Scenario 14: Security Incident Response</a></li>
        <li><a href="15-debugging.html">Scenario 15: Debugging Assistance</a></li>
        <li><a href="16-entry-points.html">Scenario 16: Entry Point Discovery</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">API Reference</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../api/index.html">Overview</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Integrations</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../integrations/index.html">Overview</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Technical Reference</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../reference/index.html">Overview</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Enterprise</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../enterprise/index.html">Overview</a></li>
      </ul>
    </div>
    </aside>

    <!-- Main Content -->
    <main class="doc-main">
      <!-- Breadcrumb -->
      <nav class="doc-breadcrumb">
        <a href="../index.html">Documentation</a>
        <span>/</span>
        <a href="index.html">User Guides</a>
        <span>/</span>
        <span>CLI Guide</span>
      </nav>

      <!-- Hero -->
      <div class="doc-hero">
        <h1>CLI Guide</h1>
        
      </div>

      <!-- Content -->
      <article class="doc-content">
        <h1 id="cli-guide">CLI Guide<a class="heading-anchor" href="#cli-guide" title="Link to this section">&para;</a></h1>
<p>Complete command-line interface documentation for CodeGraph.</p>
<hr />
<h2 id="table-of-contents">Table of Contents<a class="heading-anchor" href="#table-of-contents" title="Link to this section">&para;</a></h2>
<ul>
<li><a href="#quick-reference">Quick Reference</a></li>
<li><a href="#codegraph-cli">codegraph CLI</a></li>
<li><a href="#import-command">Import Command</a></li>
<li><a href="#projects-management">Projects Management</a></li>
<li><a href="#server-management">Server Management</a></li>
<li><a href="#single-step-commands">Single Step Commands</a></li>
<li><a href="#api-server-cli">API Server CLI</a></li>
<li><a href="#security-audit-cli">security-audit CLI</a></li>
<li><a href="#full-audit">Full Audit</a></li>
<li><a href="#quick-scan">Quick Scan</a></li>
<li><a href="#settings-scan">Settings Scan</a></li>
<li><a href="#secrets-scan">Secrets Scan</a></li>
<li><a href="#patch-review-cli">patch-review CLI</a></li>
<li><a href="#analyze-command">Analyze Command</a></li>
<li><a href="#diff-review">Diff Review</a></li>
<li><a href="#github-pr-review">GitHub PR Review</a></li>
<li><a href="#gitlab-mr-review">GitLab MR Review</a></li>
<li><a href="#benchmark--analysis-tools">Benchmark &amp; Analysis Tools</a></li>
<li><a href="#environment-variables">Environment Variables</a></li>
<li><a href="#exit-codes">Exit Codes</a></li>
<li><a href="#cicd-integration">CI/CD Integration</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
</ul>
<hr />
<h2 id="quick-reference">Quick Reference<a class="heading-anchor" href="#quick-reference" title="Link to this section">&para;</a></h2>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Tool</th>
<th>Purpose</th>
<th>Typical Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>python -m src.api.cli run</code></td>
<td>Start REST API server</td>
<td>Production/development server</td>
</tr>
<tr>
<td><code>codegraph import</code></td>
<td>Import project to CPG</td>
<td>Clone repo + create CPG</td>
</tr>
<tr>
<td><code>codegraph projects</code></td>
<td>Manage imported projects</td>
<td>List, activate, delete projects</td>
</tr>
<tr>
<td><code>security-audit full</code></td>
<td>Security audit</td>
<td>Scan project for vulnerabilities</td>
</tr>
<tr>
<td><code>patch-review analyze</code></td>
<td>Code review</td>
<td>Analyze codebase for issues</td>
</tr>
<tr>
<td><code>patch-review github</code></td>
<td>PR review</td>
<td>Review GitHub pull requests</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="codegraph-cli">codegraph CLI<a class="heading-anchor" href="#codegraph-cli" title="Link to this section">&para;</a></h2>
<p>Main CLI for importing projects and managing the CodeGraph system.</p>
<h3 id="installation">Installation<a class="heading-anchor" href="#installation" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># From the codegraph directory</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.

<span class="c1"># Or run directly</span>
python<span class="w"> </span>-m<span class="w"> </span>src.cli.import_commands<span class="w"> </span><span class="o">[</span>command<span class="o">]</span><span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<h3 id="import-command">Import Command<a class="heading-anchor" href="#import-command" title="Link to this section">&para;</a></h3>
<p>Import a project from Git repository or local path.</p>
<div class="highlight"><pre><span></span><code>codegraph<span class="w"> </span>import<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<p><strong>Options:</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--repo</code></td>
<td>Git repository URL</td>
<td>-</td>
</tr>
<tr>
<td><code>--path</code></td>
<td>Local path to source code</td>
<td>-</td>
</tr>
<tr>
<td><code>--language</code></td>
<td>Programming language (auto-detect if not specified)</td>
<td>auto</td>
</tr>
<tr>
<td><code>--branch</code></td>
<td>Git branch to clone</td>
<td><code>main</code></td>
</tr>
<tr>
<td><code>--shallow</code></td>
<td>Use shallow clone</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>--include</code></td>
<td>Paths to include (multiple)</td>
<td>all</td>
</tr>
<tr>
<td><code>--exclude</code></td>
<td>Paths to exclude (multiple)</td>
<td>none</td>
</tr>
<tr>
<td><code>--mode</code></td>
<td>Import mode: <code>full</code>, <code>selective</code>, <code>incremental</code></td>
<td><code>full</code></td>
</tr>
<tr>
<td><code>--workspace</code></td>
<td>Joern workspace path</td>
<td>auto</td>
</tr>
<tr>
<td><code>--domain-name</code></td>
<td>Custom domain name</td>
<td>auto</td>
</tr>
<tr>
<td><code>--group</code></td>
<td>Project group name</td>
<td><code>default</code></td>
</tr>
<tr>
<td><code>--memory</code></td>
<td>Joern memory in GB</td>
<td><code>16</code></td>
</tr>
<tr>
<td><code>--batch-size</code></td>
<td>DuckDB batch size</td>
<td><code>10000</code></td>
</tr>
<tr>
<td><code>--docker</code></td>
<td>Use Docker for Joern</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>--no-docs</code></td>
<td>Skip documentation import</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>--no-plugin</code></td>
<td>Skip domain plugin creation</td>
<td><code>false</code></td>
</tr>
</tbody>
</table></div>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import from GitHub</span>
codegraph<span class="w"> </span>import<span class="w"> </span>--repo<span class="w"> </span>https://github.com/postgres/postgres<span class="w"> </span>--branch<span class="w"> </span>REL_17_STABLE

<span class="c1"># Import local code with Docker</span>
codegraph<span class="w"> </span>import<span class="w"> </span>--path<span class="w"> </span>./myproject<span class="w"> </span>--docker

<span class="c1"># Import with specific language</span>
codegraph<span class="w"> </span>import<span class="w"> </span>--repo<span class="w"> </span>https://github.com/org/repo<span class="w"> </span>--language<span class="w"> </span>python

<span class="c1"># Selective import (specific paths only)</span>
codegraph<span class="w"> </span>import<span class="w"> </span>--path<span class="w"> </span>./code<span class="w"> </span>--mode<span class="w"> </span>selective<span class="w"> </span>--include<span class="w"> </span>src/core<span class="w"> </span>src/api

<span class="c1"># Import to specific group</span>
codegraph<span class="w"> </span>import<span class="w"> </span>--repo<span class="w"> </span>https://github.com/org/repo<span class="w"> </span>--group<span class="w"> </span>security-team
</code></pre></div>

<h3 id="projects-management">Projects Management<a class="heading-anchor" href="#projects-management" title="Link to this section">&para;</a></h3>
<p>Manage imported projects.</p>
<div class="highlight"><pre><span></span><code>codegraph<span class="w"> </span>projects<span class="w"> </span><span class="o">[</span>subcommand<span class="o">]</span><span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<h4 id="list-projects">List Projects<a class="heading-anchor" href="#list-projects" title="Link to this section">&para;</a></h4>
<div class="highlight"><pre><span></span><code>codegraph<span class="w"> </span>projects<span class="w"> </span>list<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--group</code></td>
<td>Filter by group name</td>
</tr>
<tr>
<td><code>--language</code></td>
<td>Filter by language</td>
</tr>
<tr>
<td><code>--active</code></td>
<td>Show only active project</td>
</tr>
</tbody>
</table></div>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># List all projects</span>
codegraph<span class="w"> </span>projects<span class="w"> </span>list

<span class="c1"># List projects in a group</span>
codegraph<span class="w"> </span>projects<span class="w"> </span>list<span class="w"> </span>--group<span class="w"> </span>security-team

<span class="c1"># Show active project only</span>
codegraph<span class="w"> </span>projects<span class="w"> </span>list<span class="w"> </span>--active
</code></pre></div>

<h4 id="activate-project">Activate Project<a class="heading-anchor" href="#activate-project" title="Link to this section">&para;</a></h4>
<div class="highlight"><pre><span></span><code>codegraph<span class="w"> </span>projects<span class="w"> </span>activate<span class="w"> </span>&lt;name&gt;<span class="w"> </span><span class="o">[</span>--group<span class="w"> </span>&lt;group&gt;<span class="o">]</span>
</code></pre></div>

<h4 id="delete-project">Delete Project<a class="heading-anchor" href="#delete-project" title="Link to this section">&para;</a></h4>
<div class="highlight"><pre><span></span><code>codegraph<span class="w"> </span>projects<span class="w"> </span>delete<span class="w"> </span>&lt;name&gt;<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--group</code></td>
<td>Project group name</td>
</tr>
<tr>
<td><code>--delete-files</code></td>
<td>Also delete CPG and DuckDB files</td>
</tr>
</tbody>
</table></div>
<h4 id="project-info">Project Info<a class="heading-anchor" href="#project-info" title="Link to this section">&para;</a></h4>
<div class="highlight"><pre><span></span><code>codegraph<span class="w"> </span>projects<span class="w"> </span>info<span class="w"> </span>&lt;name&gt;<span class="w"> </span><span class="o">[</span>--group<span class="w"> </span>&lt;group&gt;<span class="o">]</span>
</code></pre></div>

<h3 id="server-management">Server Management<a class="heading-anchor" href="#server-management" title="Link to this section">&para;</a></h3>
<p>Manage the Joern server.</p>
<div class="highlight"><pre><span></span><code>codegraph<span class="w"> </span>server<span class="w"> </span><span class="o">[</span>subcommand<span class="o">]</span><span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<p><strong>Subcommands:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check server status</span>
codegraph<span class="w"> </span>server<span class="w"> </span>status

<span class="c1"># Start server</span>
codegraph<span class="w"> </span>server<span class="w"> </span>start<span class="w"> </span><span class="o">[</span>--docker<span class="o">]</span><span class="w"> </span><span class="o">[</span>--memory<span class="w"> </span><span class="m">16</span><span class="o">]</span>

<span class="c1"># Stop server</span>
codegraph<span class="w"> </span>server<span class="w"> </span>stop

<span class="c1"># Restart server</span>
codegraph<span class="w"> </span>server<span class="w"> </span>restart<span class="w"> </span><span class="o">[</span>--docker<span class="o">]</span>
</code></pre></div>

<h3 id="single-step-commands">Single Step Commands<a class="heading-anchor" href="#single-step-commands" title="Link to this section">&para;</a></h3>
<p>Execute individual pipeline steps.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Clone repository</span>
codegraph<span class="w"> </span>clone<span class="w"> </span>--repo<span class="w"> </span>&lt;url&gt;<span class="w"> </span><span class="o">[</span>--branch<span class="w"> </span>main<span class="o">]</span><span class="w"> </span><span class="o">[</span>--shallow<span class="o">]</span><span class="w"> </span><span class="o">[</span>--depth<span class="w"> </span><span class="m">1</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>--output<span class="w"> </span>dir<span class="o">]</span>

<span class="c1"># Detect programming language</span>
codegraph<span class="w"> </span>detect<span class="w"> </span>--path<span class="w"> </span>&lt;source_path&gt;

<span class="c1"># Create Joern CPG</span>
codegraph<span class="w"> </span>cpg<span class="w"> </span>--path<span class="w"> </span>&lt;source_path&gt;<span class="w"> </span><span class="o">[</span>--language<span class="w"> </span>c<span class="o">]</span><span class="w"> </span><span class="o">[</span>--output<span class="w"> </span>cpg.bin<span class="o">]</span><span class="w"> </span><span class="o">[</span>--docker<span class="o">]</span>

<span class="c1"># Export CPG to DuckDB</span>
codegraph<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--cpg<span class="w"> </span>&lt;cpg_path&gt;<span class="w"> </span><span class="o">[</span>--output<span class="w"> </span>db.duckdb<span class="o">]</span>

<span class="c1"># Validate export</span>
codegraph<span class="w"> </span>validate<span class="w"> </span>--db<span class="w"> </span>&lt;duckdb_path&gt;

<span class="c1"># List supported languages</span>
codegraph<span class="w"> </span>languages
</code></pre></div>

<p><strong>Supported Languages:</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Language</th>
<th>Joern Command</th>
<th>Extensions</th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>c2cpg</td>
<td>.c, .h</td>
</tr>
<tr>
<td>cpp</td>
<td>c2cpg</td>
<td>.cpp, .hpp, .cc, .cxx</td>
</tr>
<tr>
<td>python</td>
<td>pysrc2cpg</td>
<td>.py</td>
</tr>
<tr>
<td>java</td>
<td>javasrc2cpg</td>
<td>.java</td>
</tr>
<tr>
<td>go</td>
<td>gosrc2cpg</td>
<td>.go</td>
</tr>
<tr>
<td>javascript</td>
<td>jssrc2cpg</td>
<td>.js, .jsx, .ts, .tsx</td>
</tr>
<tr>
<td>php</td>
<td>php2cpg</td>
<td>.php</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="api-server-cli">API Server CLI<a class="heading-anchor" href="#api-server-cli" title="Link to this section">&para;</a></h2>
<p><strong>Module:</strong> <code>src.api.cli</code></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>&lt;command&gt;<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<h3 id="run-start-api-server"><code>run</code> - Start API Server<a class="heading-anchor" href="#run-start-api-server" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>run<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--host</code></td>
<td><code>0.0.0.0</code></td>
<td>Host address to bind to</td>
</tr>
<tr>
<td><code>--port</code></td>
<td><code>8000</code></td>
<td>Port number to listen on</td>
</tr>
<tr>
<td><code>--workers</code></td>
<td><code>1</code></td>
<td>Number of uvicorn worker processes</td>
</tr>
<tr>
<td><code>--reload</code></td>
<td><code>false</code></td>
<td>Enable auto-reload for development</td>
</tr>
<tr>
<td><code>--log-level</code></td>
<td><code>info</code></td>
<td>Logging level (debug, info, warning, error)</td>
</tr>
</tbody>
</table></div>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Start server with defaults</span>
python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>run

<span class="c1"># Development mode with auto-reload</span>
python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>run<span class="w"> </span>--reload<span class="w"> </span>--log-level<span class="w"> </span>debug

<span class="c1"># Production with multiple workers</span>
python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>run<span class="w"> </span>--host<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span>--port<span class="w"> </span><span class="m">8080</span><span class="w"> </span>--workers<span class="w"> </span><span class="m">4</span>
</code></pre></div>

<h3 id="init-db-initialize-database"><code>init-db</code> - Initialize Database<a class="heading-anchor" href="#init-db-initialize-database" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>init-db
</code></pre></div>

<h3 id="migrate-run-migrations"><code>migrate</code> - Run Migrations<a class="heading-anchor" href="#migrate-run-migrations" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>migrate<span class="w"> </span><span class="o">[</span>--revision<span class="w"> </span>REVISION<span class="o">]</span>
</code></pre></div>

<h3 id="create-admin-create-admin-user"><code>create-admin</code> - Create Admin User<a class="heading-anchor" href="#create-admin-create-admin-user" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>src.api.cli<span class="w"> </span>create-admin<span class="w"> </span>--username<span class="w"> </span>USERNAME<span class="w"> </span>--password<span class="w"> </span>PASSWORD<span class="w"> </span><span class="o">[</span>--email<span class="w"> </span>EMAIL<span class="o">]</span>
</code></pre></div>

<hr />
<h2 id="security-audit-cli">security-audit CLI<a class="heading-anchor" href="#security-audit-cli" title="Link to this section">&para;</a></h2>
<p>Security scanning CLI for Python/Django projects.</p>
<p><strong>Module:</strong> <code>src.cli.security_audit</code></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>src.cli.security_audit<span class="w"> </span>&lt;command&gt;<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<h3 id="full-audit">Full Audit<a class="heading-anchor" href="#full-audit" title="Link to this section">&para;</a></h3>
<p>Run comprehensive security audit with multiple output formats.</p>
<div class="highlight"><pre><span></span><code>security-audit<span class="w"> </span>full<span class="w"> </span>--path<span class="w"> </span>&lt;project_path&gt;<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Short</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--path</code></td>
<td><code>-p</code></td>
<td>Path to project to audit</td>
<td>required</td>
</tr>
<tr>
<td><code>--output</code></td>
<td><code>-o</code></td>
<td>Output directory for reports</td>
<td><code>./security_reports</code></td>
</tr>
<tr>
<td><code>--format</code></td>
<td><code>-f</code></td>
<td>Output format(s): json, markdown, sarif, all</td>
<td><code>json markdown sarif</code></td>
</tr>
<tr>
<td><code>--exclude-dirs</code></td>
<td></td>
<td>Additional directories to exclude</td>
<td>none</td>
</tr>
<tr>
<td><code>--no-cpg</code></td>
<td></td>
<td>Skip CPG-based analysis (faster)</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>--verbose</code></td>
<td><code>-v</code></td>
<td>Verbose output</td>
<td><code>false</code></td>
</tr>
</tbody>
</table></div>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Full audit with all formats</span>
security-audit<span class="w"> </span>full<span class="w"> </span>--path<span class="w"> </span>./myproject

<span class="c1"># JSON output only</span>
security-audit<span class="w"> </span>full<span class="w"> </span>--path<span class="w"> </span>./myproject<span class="w"> </span>--format<span class="w"> </span>json

<span class="c1"># Exclude directories</span>
security-audit<span class="w"> </span>full<span class="w"> </span>--path<span class="w"> </span>./myproject<span class="w"> </span>--exclude-dirs<span class="w"> </span>vendor<span class="w"> </span>third_party

<span class="c1"># Quick file-based scan only (no CPG)</span>
security-audit<span class="w"> </span>full<span class="w"> </span>--path<span class="w"> </span>./myproject<span class="w"> </span>--no-cpg
</code></pre></div>

<p><strong>Output:</strong></p>
<p>The audit generates reports in the specified directory:
- <code>security_audit_YYYYMMDD_HHMMSS.json</code>
- <code>security_audit_YYYYMMDD_HHMMSS.md</code>
- <code>security_audit_YYYYMMDD_HHMMSS.sarif</code></p>
<h3 id="quick-scan">Quick Scan<a class="heading-anchor" href="#quick-scan" title="Link to this section">&para;</a></h3>
<p>Fast file-based security scan without full CPG analysis.</p>
<div class="highlight"><pre><span></span><code>security-audit<span class="w"> </span>quick<span class="w"> </span>--path<span class="w"> </span>&lt;project_path&gt;<span class="w"> </span><span class="o">[</span>--output<span class="w"> </span>&lt;file&gt;<span class="o">]</span>
</code></pre></div>

<h3 id="settings-scan">Settings Scan<a class="heading-anchor" href="#settings-scan" title="Link to this section">&para;</a></h3>
<p>Scan Django settings file for security issues.</p>
<div class="highlight"><pre><span></span><code>security-audit<span class="w"> </span>settings<span class="w"> </span>--path<span class="w"> </span>&lt;settings_path&gt;
</code></pre></div>

<p><strong>Checks performed:</strong>
- DEBUG = True in production
- Weak SECRET_KEY
- ALLOWED_HOSTS configuration
- CSRF_COOKIE_SECURE
- SESSION_COOKIE_SECURE
- SECURE_SSL_REDIRECT
- Hardcoded database credentials</p>
<h3 id="secrets-scan">Secrets Scan<a class="heading-anchor" href="#secrets-scan" title="Link to this section">&para;</a></h3>
<p>Scan for hardcoded secrets and credentials.</p>
<div class="highlight"><pre><span></span><code>security-audit<span class="w"> </span>secrets<span class="w"> </span>--path<span class="w"> </span>&lt;project_path&gt;
</code></pre></div>

<p><strong>Detects:</strong>
- API keys (AWS, GCP, Azure, GitHub, etc.)
- Private keys (RSA, SSH)
- Database connection strings
- JWT secrets
- OAuth tokens
- Generic passwords in code</p>
<h3 id="vulnerability-severities">Vulnerability Severities<a class="heading-anchor" href="#vulnerability-severities" title="Link to this section">&para;</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Severity</th>
<th>Icon</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Critical</td>
<td><code>[X]</code></td>
<td>Immediate action required</td>
</tr>
<tr>
<td>High</td>
<td><code>[!]</code></td>
<td>Address before deployment</td>
</tr>
<tr>
<td>Medium</td>
<td><code>[~]</code></td>
<td>Should be fixed</td>
</tr>
<tr>
<td>Low</td>
<td><code>[o]</code></td>
<td>Minor issues</td>
</tr>
<tr>
<td>Info</td>
<td><code>[i]</code></td>
<td>Informational</td>
</tr>
</tbody>
</table></div>
<h3 id="excluded-directories-default">Excluded Directories (Default)<a class="heading-anchor" href="#excluded-directories-default" title="Link to this section">&para;</a></h3>
<p>The scanner automatically excludes:
- <code>__pycache__</code>, <code>.git</code>
- <code>.venv</code>, <code>venv</code>, <code>env</code>
- <code>node_modules</code>
- <code>.tox</code>, <code>.pytest_cache</code>, <code>.mypy_cache</code>
- <code>migrations</code>
- <code>static</code>, <code>media</code>
- <code>dist</code>, <code>build</code></p>
<hr />
<h2 id="patch-review-cli">patch-review CLI<a class="heading-anchor" href="#patch-review-cli" title="Link to this section">&para;</a></h2>
<p>Automated code review using Code Property Graph analysis.</p>
<p><strong>Module:</strong> <code>src.patch_review.cli</code></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>src.patch_review.cli<span class="w"> </span><span class="o">[</span>command<span class="o">]</span><span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<h3 id="analyze-command">Analyze Command<a class="heading-anchor" href="#analyze-command" title="Link to this section">&para;</a></h3>
<p>Run security and dead code analysis on the entire codebase.</p>
<div class="highlight"><pre><span></span><code>patch-review<span class="w"> </span>analyze<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Short</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--type</code></td>
<td><code>-t</code></td>
<td>Analysis type: <code>security</code>, <code>dead-code</code>, <code>all</code></td>
<td><code>all</code></td>
</tr>
<tr>
<td><code>--severity</code></td>
<td><code>-s</code></td>
<td>Minimum severity: <code>critical</code>, <code>high</code>, <code>medium</code>, <code>low</code>, <code>all</code></td>
<td><code>all</code></td>
</tr>
<tr>
<td><code>--patterns</code></td>
<td><code>-p</code></td>
<td>Comma-separated pattern IDs to check</td>
<td>all patterns</td>
</tr>
<tr>
<td><code>--limit</code></td>
<td><code>-l</code></td>
<td>Max findings per pattern</td>
<td>50</td>
</tr>
</tbody>
</table></div>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Full analysis (security + dead code)</span>
patch-review<span class="w"> </span>analyze<span class="w"> </span>--db<span class="w"> </span>cpg.duckdb

<span class="c1"># Security only, critical severity</span>
patch-review<span class="w"> </span>analyze<span class="w"> </span>--type<span class="w"> </span>security<span class="w"> </span>--severity<span class="w"> </span>critical

<span class="c1"># Specific patterns</span>
patch-review<span class="w"> </span>analyze<span class="w"> </span>--patterns<span class="w"> </span>SQL_INJECTION,BUFFER_OVERFLOW,DEAD_CODE
</code></pre></div>

<h3 id="diff-review">Diff Review<a class="heading-anchor" href="#diff-review" title="Link to this section">&para;</a></h3>
<p>Review changes from a unified diff file.</p>
<div class="highlight"><pre><span></span><code>patch-review<span class="w"> </span>diff<span class="w"> </span><span class="o">[</span>file<span class="o">]</span><span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file</code></td>
<td>Path to diff file (or <code>-</code> for stdin)</td>
</tr>
<tr>
<td><code>--dead-code</code></td>
<td>Include dead code analysis in review</td>
</tr>
<tr>
<td><code>--security-only</code></td>
<td>Only run security analysis</td>
</tr>
</tbody>
</table></div>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Review a diff file</span>
patch-review<span class="w"> </span>diff<span class="w"> </span>changes.diff

<span class="c1"># Read from stdin</span>
git<span class="w"> </span>diff<span class="w"> </span><span class="p">|</span><span class="w"> </span>patch-review<span class="w"> </span>diff<span class="w"> </span>-

<span class="c1"># With dead code analysis</span>
patch-review<span class="w"> </span>diff<span class="w"> </span>changes.diff<span class="w"> </span>--dead-code
</code></pre></div>

<h3 id="github-pr-review">GitHub PR Review<a class="heading-anchor" href="#github-pr-review" title="Link to this section">&para;</a></h3>
<p>Fetch and review a GitHub Pull Request.</p>
<div class="highlight"><pre><span></span><code>patch-review<span class="w"> </span>github<span class="w"> </span>&lt;pr_number&gt;<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--owner</code></td>
<td>Repository owner (or <code>GITHUB_OWNER</code> env)</td>
</tr>
<tr>
<td><code>--repo</code></td>
<td>Repository name (or <code>GITHUB_REPO</code> env)</td>
</tr>
<tr>
<td><code>--token</code></td>
<td>GitHub token (or <code>GITHUB_TOKEN</code> env)</td>
</tr>
<tr>
<td><code>--post-review</code></td>
<td>Post review comments to PR</td>
</tr>
<tr>
<td><code>--dead-code</code></td>
<td>Include dead code analysis</td>
</tr>
</tbody>
</table></div>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>patch-review<span class="w"> </span>github<span class="w"> </span><span class="m">123</span><span class="w"> </span>--owner<span class="w"> </span>myorg<span class="w"> </span>--repo<span class="w"> </span>myrepo<span class="w"> </span>--token<span class="w"> </span><span class="nv">$GITHUB_TOKEN</span><span class="w"> </span>--post-review
</code></pre></div>

<h3 id="gitlab-mr-review">GitLab MR Review<a class="heading-anchor" href="#gitlab-mr-review" title="Link to this section">&para;</a></h3>
<p>Fetch and review a GitLab Merge Request.</p>
<div class="highlight"><pre><span></span><code>patch-review<span class="w"> </span>gitlab<span class="w"> </span>&lt;mr_iid&gt;<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>

<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--project</code></td>
<td>Project ID or path (or <code>GITLAB_PROJECT_ID</code> env)</td>
</tr>
<tr>
<td><code>--token</code></td>
<td>GitLab token (or <code>GITLAB_TOKEN</code> env)</td>
</tr>
<tr>
<td><code>--post-review</code></td>
<td>Post review comments to MR</td>
</tr>
</tbody>
</table></div>
<h3 id="global-options">Global Options<a class="heading-anchor" href="#global-options" title="Link to this section">&para;</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Short</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--db</code></td>
<td><code>-d</code></td>
<td>Path to DuckDB CPG database</td>
<td><code>cpg.duckdb</code></td>
</tr>
<tr>
<td><code>--output</code></td>
<td><code>-o</code></td>
<td>Output format: <code>json</code>, <code>markdown</code>, <code>summary</code>, <code>score</code></td>
<td><code>markdown</code></td>
</tr>
<tr>
<td><code>--output-file</code></td>
<td><code>-f</code></td>
<td>Write output to file</td>
<td>stdout</td>
</tr>
<tr>
<td><code>--verbose</code></td>
<td><code>-v</code></td>
<td>Enable verbose logging</td>
<td>false</td>
</tr>
<tr>
<td><code>--quiet</code></td>
<td><code>-q</code></td>
<td>Only output result, no status messages</td>
<td>false</td>
</tr>
<tr>
<td><code>--security-threshold</code></td>
<td></td>
<td>Minimum security score to pass</td>
<td>60.0</td>
</tr>
<tr>
<td><code>--block-on-critical</code></td>
<td></td>
<td>Block if any critical findings</td>
<td>true</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="benchmark-analysis-tools">Benchmark &amp; Analysis Tools<a class="heading-anchor" href="#benchmark-analysis-tools" title="Link to this section">&para;</a></h2>
<h3 id="demo-benchmarkpy">demo_benchmark.py<a class="heading-anchor" href="#demo-benchmarkpy" title="Link to this section">&para;</a></h3>
<p>Demonstrates the benchmark framework with synthetic retrieval results.</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>examples/demo_benchmark.py
</code></pre></div>

<p><strong>Features:</strong>
- Simulates vector, graph, and hybrid retrieval
- Demonstrates P@K, R@K, F1@K, MRR, NDCG metrics
- Reproducible results with random seed</p>
<h3 id="demo-patch-reviewpy">demo_patch_review.py<a class="heading-anchor" href="#demo-patch-reviewpy" title="Link to this section">&para;</a></h3>
<p>Demonstrates the automated patch review pipeline.</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>examples/demo_patch_review.py<span class="w"> </span><span class="o">[</span>--db<span class="w"> </span>cpg.duckdb<span class="o">]</span>
</code></pre></div>

<p><strong>Output Files:</strong>
- <code>demo_review_output.json</code> - Structured analysis results
- <code>demo_review_output.md</code> - Markdown review report</p>
<h3 id="testsbenchmarkrun-benchmarkpy">tests/benchmark/run_benchmark.py<a class="heading-anchor" href="#testsbenchmarkrun-benchmarkpy" title="Link to this section">&para;</a></h3>
<p>Full multi-scenario benchmark runner.</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>tests/benchmark/run_benchmark.py<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</code></pre></div>

<div class="table-wrapper"><table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--quick</code></td>
<td>Run quick benchmark (subset of queries)</td>
</tr>
<tr>
<td><code>--scenario N</code></td>
<td>Run specific scenario (1-17)</td>
</tr>
<tr>
<td><code>--all-scenarios</code></td>
<td>Run all 17 scenarios</td>
</tr>
<tr>
<td><code>--output DIR</code></td>
<td>Output directory for results</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="environment-variables">Environment Variables<a class="heading-anchor" href="#environment-variables" title="Link to this section">&para;</a></h2>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Used By</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DATABASE_URL</code></td>
<td>PostgreSQL connection URL</td>
<td>API server</td>
</tr>
<tr>
<td><code>GIGACHAT_CREDENTIALS</code></td>
<td>GigaChat API credentials</td>
<td>LLM provider</td>
</tr>
<tr>
<td><code>OPENAI_API_KEY</code></td>
<td>OpenAI API key</td>
<td>LLM provider</td>
</tr>
<tr>
<td><code>JOERN_HOME</code></td>
<td>Joern installation directory</td>
<td>Import tools</td>
</tr>
<tr>
<td><code>JOERN_SERVER_HOST</code></td>
<td>Joern server host</td>
<td>codegraph</td>
</tr>
<tr>
<td><code>JOERN_SERVER_PORT</code></td>
<td>Joern server port</td>
<td>codegraph</td>
</tr>
<tr>
<td><code>DUCKDB_PATH</code></td>
<td>Path to DuckDB database</td>
<td>All tools</td>
</tr>
<tr>
<td><code>LOG_LEVEL</code></td>
<td>Default logging level</td>
<td>All tools</td>
</tr>
<tr>
<td><code>GITHUB_TOKEN</code></td>
<td>GitHub API token</td>
<td>patch-review</td>
</tr>
<tr>
<td><code>GITHUB_OWNER</code></td>
<td>Default repository owner</td>
<td>patch-review</td>
</tr>
<tr>
<td><code>GITHUB_REPO</code></td>
<td>Default repository name</td>
<td>patch-review</td>
</tr>
<tr>
<td><code>GITLAB_TOKEN</code></td>
<td>GitLab API token</td>
<td>patch-review</td>
</tr>
<tr>
<td><code>GITLAB_PROJECT_ID</code></td>
<td>Default GitLab project</td>
<td>patch-review</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="exit-codes">Exit Codes<a class="heading-anchor" href="#exit-codes" title="Link to this section">&para;</a></h2>
<h3 id="codegraph">codegraph<a class="heading-anchor" href="#codegraph" title="Link to this section">&para;</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Command completed successfully</td>
</tr>
<tr>
<td>1</td>
<td>Error occurred</td>
</tr>
<tr>
<td>2</td>
<td>Invalid arguments</td>
</tr>
</tbody>
</table></div>
<h3 id="security-audit">security-audit<a class="heading-anchor" href="#security-audit" title="Link to this section">&para;</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Audit completed successfully</td>
</tr>
<tr>
<td>1</td>
<td>Error or critical findings</td>
</tr>
</tbody>
</table></div>
<h3 id="patch-review">patch-review<a class="heading-anchor" href="#patch-review" title="Link to this section">&para;</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Review approved / No critical findings</td>
</tr>
<tr>
<td>1</td>
<td>Review requests changes / High severity findings</td>
</tr>
<tr>
<td>2</td>
<td>Review blocks merge / Critical findings</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="cicd-integration">CI/CD Integration<a class="heading-anchor" href="#cicd-integration" title="Link to this section">&para;</a></h2>
<h3 id="github-actions">GitHub Actions<a class="heading-anchor" href="#github-actions" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Security Analysis</span>
<span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">push</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">pull_request</span><span class="p p-Indicator">]</span>

<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">security</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Setup Python</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v5</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;3.11&#39;</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pip install -e .</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Security Audit</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">          </span><span class="no">security-audit full --path . --format sarif --output ./reports</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upload SARIF</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github/codeql-action/upload-sarif@v3</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">sarif_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reports/security_audit_*.sarif</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Patch Review</span>
<span class="w">        </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.event_name == &#39;pull_request&#39;</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">          </span><span class="no">patch-review analyze --type security --severity high --output json &gt; analysis.json</span>
<span class="w">          </span><span class="no">exit_code=$?</span>
<span class="w">          </span><span class="no">if [ $exit_code -eq 2 ]; then</span>
<span class="w">            </span><span class="no">echo &quot;Critical vulnerabilities found!&quot;</span>
<span class="w">            </span><span class="no">exit 1</span>
<span class="w">          </span><span class="no">fi</span>
</code></pre></div>

<h3 id="gitlab-ci">GitLab CI<a class="heading-anchor" href="#gitlab-ci" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">stages</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security</span>

<span class="nt">security_scan</span><span class="p">:</span>
<span class="w">  </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security</span>
<span class="w">  </span><span class="nt">script</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pip install -e .</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security-audit full --path . --format json --output ./reports</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">patch-review analyze --type security --severity critical</span>
<span class="w">  </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">    </span><span class="nt">reports</span><span class="p">:</span>
<span class="w">      </span><span class="nt">sast</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reports/security_audit_*.json</span>
<span class="w">  </span><span class="nt">allow_failure</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div>

<hr />
<h2 id="troubleshooting">Troubleshooting<a class="heading-anchor" href="#troubleshooting" title="Link to this section">&para;</a></h2>
<h3 id="database-connection-error">Database Connection Error<a class="heading-anchor" href="#database-connection-error" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Verify database exists and is readable</span>
ls<span class="w"> </span>-la<span class="w"> </span>cpg.duckdb

<span class="c1"># Try with explicit path</span>
patch-review<span class="w"> </span>analyze<span class="w"> </span>--db<span class="w"> </span>/full/path/to/cpg.duckdb
</code></pre></div>

<h3 id="no-findings">No Findings<a class="heading-anchor" href="#no-findings" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check with verbose logging</span>
patch-review<span class="w"> </span>analyze<span class="w"> </span>--verbose

<span class="c1"># Lower severity threshold</span>
patch-review<span class="w"> </span>analyze<span class="w"> </span>--severity<span class="w"> </span>all
</code></pre></div>

<h3 id="joern-server-issues">Joern Server Issues<a class="heading-anchor" href="#joern-server-issues" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check server status</span>
codegraph<span class="w"> </span>server<span class="w"> </span>status

<span class="c1"># Restart with more memory</span>
codegraph<span class="w"> </span>server<span class="w"> </span>restart<span class="w"> </span>--memory<span class="w"> </span><span class="m">32</span>
</code></pre></div>

<h3 id="import-failures">Import Failures<a class="heading-anchor" href="#import-failures" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check supported languages</span>
codegraph<span class="w"> </span>languages

<span class="c1"># Try with Docker</span>
codegraph<span class="w"> </span>import<span class="w"> </span>--path<span class="w"> </span>./code<span class="w"> </span>--docker

<span class="c1"># Check import job status</span>
codegraph<span class="w"> </span><span class="nb">jobs</span><span class="w"> </span>--status<span class="w"> </span>failed
</code></pre></div>

<hr />
<h2 id="see-also">See Also<a class="heading-anchor" href="#see-also" title="Link to this section">&para;</a></h2>
<ul>
<li><a href="./PROJECT_IMPORT.html">Project Import Guide</a> - Detailed import documentation</li>
<li><a href="./CPG_EXPORT.html">CPG Export Guide</a> - Export CPG to DuckDB</li>
<li><a href="../api/REST_API.html">REST API Reference</a> - API endpoints</li>
<li><a href="./TUI_USER_GUIDE.html">TUI User Guide</a> - Interactive terminal interface</li>
<li><a href="../reference/SECURITY.html">Security Documentation</a> - Security features</li>
</ul>
      </article>

      <!-- Page Navigation -->
      <nav class="doc-page-nav">

      <a href="TUI_USER_GUIDE.html" class="doc-page-nav-prev">
        <span class="doc-page-nav-label">Previous</span>
        <span class="doc-page-nav-title">CodeGraph User Guide</span>
      </a>

      <a href="PROGRAMMATIC_GUIDE.html" class="doc-page-nav-next">
        <span class="doc-page-nav-label">Next</span>
        <span class="doc-page-nav-title">User Guide</span>
      </a>
    </nav>

      <!-- Footer -->
      <footer class="doc-footer">
        <span>Last updated: 2025-12-25</span>
        <a href="https://github.com/your-org/codegraph/edit/main/docs/guides/CLI_GUIDE.md" target="_blank" rel="noopener">Edit on GitHub</a>
      </footer>
    </main>

    <!-- Table of Contents -->
    <aside class="doc-toc">
      <div class="doc-toc-title">On this page</div>
      <ul class="doc-toc-list">
        <li><a href="#cli-guide" class="level-1">CLI Guide</a></li>
<li><a href="#table-of-contents" class="level-2">Table of Contents</a></li>
<li><a href="#quick-reference" class="level-2">Quick Reference</a></li>
<li><a href="#codegraph-cli" class="level-2">codegraph CLI</a></li>
<li><a href="#installation" class="level-3">Installation</a></li>
<li><a href="#from-the-codegraph-directory" class="level-1">From the codegraph directory</a></li>
<li><a href="#or-run-directly" class="level-1">Or run directly</a></li>
<li><a href="#import-command" class="level-3">Import Command</a></li>
<li><a href="#import-from-github" class="level-1">Import from GitHub</a></li>
<li><a href="#import-local-code-with-docker" class="level-1">Import local code with Docker</a></li>
<li><a href="#import-with-specific-language" class="level-1">Import with specific language</a></li>
<li><a href="#selective-import-specific-paths-only" class="level-1">Selective import (specific paths only)</a></li>
<li><a href="#import-to-specific-group" class="level-1">Import to specific group</a></li>
<li><a href="#projects-management" class="level-3">Projects Management</a></li>
<li><a href="#list-all-projects" class="level-1">List all projects</a></li>
<li><a href="#list-projects-in-a-group" class="level-1">List projects in a group</a></li>
<li><a href="#show-active-project-only" class="level-1">Show active project only</a></li>
<li><a href="#server-management" class="level-3">Server Management</a></li>
<li><a href="#check-server-status" class="level-1">Check server status</a></li>
<li><a href="#start-server" class="level-1">Start server</a></li>
<li><a href="#stop-server" class="level-1">Stop server</a></li>
<li><a href="#restart-server" class="level-1">Restart server</a></li>
<li><a href="#single-step-commands" class="level-3">Single Step Commands</a></li>
<li><a href="#clone-repository" class="level-1">Clone repository</a></li>
<li><a href="#detect-programming-language" class="level-1">Detect programming language</a></li>
<li><a href="#create-joern-cpg" class="level-1">Create Joern CPG</a></li>
<li><a href="#export-cpg-to-duckdb" class="level-1">Export CPG to DuckDB</a></li>
<li><a href="#validate-export" class="level-1">Validate export</a></li>
<li><a href="#list-supported-languages" class="level-1">List supported languages</a></li>
<li><a href="#api-server-cli" class="level-2">API Server CLI</a></li>
<li><a href="#run-start-api-server" class="level-3">`run` - Start API Server</a></li>
<li><a href="#start-server-with-defaults" class="level-1">Start server with defaults</a></li>
<li><a href="#development-mode-with-auto-reload" class="level-1">Development mode with auto-reload</a></li>
<li><a href="#production-with-multiple-workers" class="level-1">Production with multiple workers</a></li>
<li><a href="#init-db-initialize-database" class="level-3">`init-db` - Initialize Database</a></li>
<li><a href="#migrate-run-migrations" class="level-3">`migrate` - Run Migrations</a></li>
<li><a href="#create-admin-create-admin-user" class="level-3">`create-admin` - Create Admin User</a></li>
<li><a href="#security-audit-cli" class="level-2">security-audit CLI</a></li>
<li><a href="#full-audit" class="level-3">Full Audit</a></li>
<li><a href="#full-audit-with-all-formats" class="level-1">Full audit with all formats</a></li>
<li><a href="#json-output-only" class="level-1">JSON output only</a></li>
<li><a href="#exclude-directories" class="level-1">Exclude directories</a></li>
<li><a href="#quick-file-based-scan-only-no-cpg" class="level-1">Quick file-based scan only (no CPG)</a></li>
<li><a href="#quick-scan" class="level-3">Quick Scan</a></li>
<li><a href="#settings-scan" class="level-3">Settings Scan</a></li>
<li><a href="#secrets-scan" class="level-3">Secrets Scan</a></li>
<li><a href="#vulnerability-severities" class="level-3">Vulnerability Severities</a></li>
<li><a href="#excluded-directories-default" class="level-3">Excluded Directories (Default)</a></li>
<li><a href="#patch-review-cli" class="level-2">patch-review CLI</a></li>
<li><a href="#analyze-command" class="level-3">Analyze Command</a></li>
<li><a href="#full-analysis-security-dead-code" class="level-1">Full analysis (security + dead code)</a></li>
<li><a href="#security-only-critical-severity" class="level-1">Security only, critical severity</a></li>
<li><a href="#specific-patterns" class="level-1">Specific patterns</a></li>
<li><a href="#diff-review" class="level-3">Diff Review</a></li>
<li><a href="#review-a-diff-file" class="level-1">Review a diff file</a></li>
<li><a href="#read-from-stdin" class="level-1">Read from stdin</a></li>
<li><a href="#with-dead-code-analysis" class="level-1">With dead code analysis</a></li>
<li><a href="#github-pr-review" class="level-3">GitHub PR Review</a></li>
<li><a href="#gitlab-mr-review" class="level-3">GitLab MR Review</a></li>
<li><a href="#global-options" class="level-3">Global Options</a></li>
<li><a href="#benchmark-analysis-tools" class="level-2">Benchmark & Analysis Tools</a></li>
<li><a href="#demo-benchmarkpy" class="level-3">demo_benchmark.py</a></li>
<li><a href="#demo-patch-reviewpy" class="level-3">demo_patch_review.py</a></li>
<li><a href="#testsbenchmarkrun-benchmarkpy" class="level-3">tests/benchmark/run_benchmark.py</a></li>
<li><a href="#environment-variables" class="level-2">Environment Variables</a></li>
<li><a href="#exit-codes" class="level-2">Exit Codes</a></li>
<li><a href="#codegraph" class="level-3">codegraph</a></li>
<li><a href="#security-audit" class="level-3">security-audit</a></li>
<li><a href="#patch-review" class="level-3">patch-review</a></li>
<li><a href="#cicd-integration" class="level-2">CI/CD Integration</a></li>
<li><a href="#github-actions" class="level-3">GitHub Actions</a></li>
<li><a href="#gitlab-ci" class="level-3">GitLab CI</a></li>
<li><a href="#troubleshooting" class="level-2">Troubleshooting</a></li>
<li><a href="#database-connection-error" class="level-3">Database Connection Error</a></li>
<li><a href="#verify-database-exists-and-is-readable" class="level-1">Verify database exists and is readable</a></li>
<li><a href="#try-with-explicit-path" class="level-1">Try with explicit path</a></li>
<li><a href="#no-findings" class="level-3">No Findings</a></li>
<li><a href="#check-with-verbose-logging" class="level-1">Check with verbose logging</a></li>
<li><a href="#lower-severity-threshold" class="level-1">Lower severity threshold</a></li>
<li><a href="#joern-server-issues" class="level-3">Joern Server Issues</a></li>
<li><a href="#check-server-status" class="level-1">Check server status</a></li>
<li><a href="#restart-with-more-memory" class="level-1">Restart with more memory</a></li>
<li><a href="#import-failures" class="level-3">Import Failures</a></li>
<li><a href="#check-supported-languages" class="level-1">Check supported languages</a></li>
<li><a href="#try-with-docker" class="level-1">Try with Docker</a></li>
<li><a href="#check-import-job-status" class="level-1">Check import job status</a></li>
<li><a href="#see-also" class="level-2">See Also</a></li>
      </ul>
    </aside>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <img src="../../../assets/svg/logo.svg" alt="CodeGraph" width="160" height="40">
          <p>AI copilot for source code analysis</p>
        </div>
        <div class="footer-links">
          <div class="footer-links-group">
            <h4>Product</h4>
            <ul class="footer-links-list">
              <li><a href="../../../index.html#features" class="footer-link">Features</a></li>
              <li><a href="../../../index.html#integrations" class="footer-link">Integrations</a></li>
              <li><a href="../../../index.html#faq" class="footer-link">FAQ</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Documentation</h4>
            <ul class="footer-links-list">
              <li><a href="../getting-started/index.html" class="footer-link">Getting Started</a></li>
              <li><a href="../guides/index.html" class="footer-link">Guides</a></li>
              <li><a href="../api/index.html" class="footer-link">API</a></li>
              <li><a href="../enterprise/index.html" class="footer-link">Enterprise</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Resources</h4>
            <ul class="footer-links-list">
              <li><a href="../../../whitepaper.html" class="footer-link">Whitepaper</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Contacts</h4>
            <ul class="footer-links-list">
              <li><a href="mailto:hello@codegraph.ru" class="footer-link">hello@codegraph.ru</a></li>
              <li><a href="https://t.me/codegraph" class="footer-link" target="_blank" rel="noopener">Telegram</a></li>
              <li><a href="https://github.com/codegraph" class="footer-link" target="_blank" rel="noopener">GitHub</a></li>
            </ul>
            <div class="footer-social">
              <a href="https://t.me/codegraph" class="footer-social-link" target="_blank" rel="noopener" aria-label="Telegram">
                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                </svg>
              </a>
              <a href="https://github.com/codegraph" class="footer-social-link" target="_blank" rel="noopener" aria-label="GitHub">
                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 CodeGraph. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script src="../../../js/main.js"></script>
</body>
</html>
