<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CodeGraph documentation: Руководство по устранению неполадок">
  <meta name="keywords" content="CodeGraph, documentation, guides">

  <meta property="og:title" content="Руководство по устранению неполадок - CodeGraph">
  <meta property="og:description" content="CodeGraph documentation: Руководство по устранению неполадок">
  <meta property="og:type" content="article">

  <title>Руководство по устранению неполадок - CodeGraph Documentation</title>

  <link rel="icon" type="image/svg+xml" href="../../../assets/svg/logo-compact.svg">
  <link rel="stylesheet" href="../../../css/styles.css?v=2">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="nav container">
      <a href="../../../" class="logo">
        <img src="../../../assets/svg/logo.svg" alt="CodeGraph" width="160" height="40">
      </a>

      <ul class="nav-list">
        <li><a href="../../../index.html#problems" class="nav-link">Проблемы</a></li>
        <li><a href="../../../index.html#solution" class="nav-link">Решение</a></li>
        <li><a href="../../../index.html#features" class="nav-link">Возможности</a></li>
        <li><a href="../../../index.html#integrations" class="nav-link">Интеграции</a></li>
        <li><a href="../index.html" class="nav-link active">Документация</a></li>
        <li><a href="../../../index.html#faq" class="nav-link">FAQ</a></li>
      </ul>

      <div class="header-actions">
        <div class="lang-switcher">
          <a href="../../en/guides/TROUBLESHOOTING.html" class="">EN</a>
          <a href="../../ru/guides/TROUBLESHOOTING.html" class="active">RU</a>
        </div>
        <button class="theme-toggle" aria-label="Переключить тему">
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
        <a href="../../../index.html#demo" class="btn btn-primary">Запросить демо</a>
      </div>

      <button class="mobile-menu-toggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </nav>
    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
      <ul class="mobile-nav-list">
        <li><a href="../../../index.html#problems" class="mobile-nav-link">Проблемы</a></li>
        <li><a href="../../../index.html#solution" class="mobile-nav-link">Решение</a></li>
        <li><a href="../../../index.html#features" class="mobile-nav-link">Возможности</a></li>
        <li><a href="../../../index.html#integrations" class="mobile-nav-link">Интеграции</a></li>
        <li><a href="../index.html" class="mobile-nav-link">Документация</a></li>
        <li><a href="../../../index.html#faq" class="mobile-nav-link">FAQ</a></li>
        <li><a href="../../../index.html#demo" class="btn btn-primary mobile-nav-demo-btn">Запросить демо</a></li>
      </ul>
    </nav>
  </header>

  <div class="doc-layout">
    <!-- Sidebar Navigation -->
    <aside class="doc-sidebar">
      
    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Начало работы</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../getting-started/index.html">Обзор</a></li>
        <li><a href="../getting-started/CONFIGURATION.html">Руководство по настройке</a></li>
        <li><a href="../getting-started/INSTALLATION.html">Руководство по установке</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Руководства</div>
      <ul class="doc-sidebar-nav">
        <li><a href="index.html">Обзор</a></li>
        <li><a href="BENCHMARK_GUIDE.html">Руководство по тестовой платформе</a></li>
        <li><a href="CLI_GUIDE.html">Руководство по CLI</a></li>
        <li><a href="CODE_REVIEW.html">Система автоматического код-ревью на основе патчей</a></li>
        <li><a href="CPG_EXPORT.html">Руководство по экспорту CPG</a></li>
        <li><a href="MONITORING.html">Руководство по мониторингу</a></li>
        <li><a href="PROGRAMMATIC_GUIDE.html">Руководство пользователя</a></li>
        <li><a href="PROJECT_IMPORT.html">Импорт новой кодовой базы</a></li>
        <li><a href="QUICK_REFERENCE.html">Краткое руководство по CodeGraph</a></li>
        <li><a href="REFACTORING.html">Руководство по анализу рефакторинга</a></li>
        <li><a href="SCENARIOS.html">Руководство по сценариям рабочих процессов</a></li>
        <li><a href="TROUBLESHOOTING.html" class="active">Руководство по устранению неполадок</a></li>
        <li><a href="TUI_USER_GUIDE.html">Руководство пользователя CodeGraph</a></li>
        <li><a href="01-onboarding.html">Сценарий 01: Ввод нового разработчика</a></li>
        <li><a href="02-security-audit.html">Сценарий 02: Аудит безопасности</a></li>
        <li><a href="03-documentation.html">Сценарий 03: Генерация документации</a></li>
        <li><a href="04-feature-development.html">Сценарий 04: Разработка функций</a></li>
        <li><a href="05-refactoring.html">Сценарий 05: Рефакторинг</a></li>
        <li><a href="06-performance.html">Сценарий 06: Анализ производительности</a></li>
        <li><a href="07-test-coverage.html">Сценарий 07: Покрытие тестами</a></li>
        <li><a href="08-compliance.html">Сценарий 08: Проверка соответствия требованиям</a></li>
        <li><a href="09-code-review.html">Сценарий 09: Код-ревью</a></li>
        <li><a href="10-cross-repo.html">Сценарий 10: Анализ между репозиториями</a></li>
        <li><a href="11-architecture.html">Сценарий 11: Анализ архитектуры</a></li>
        <li><a href="12-tech-debt.html">Сценарий 12: Оценка технического долга</a></li>
        <li><a href="13-mass-refactoring.html">Сценарий 13: Массовая рефакторизация</a></li>
        <li><a href="14-incident-response.html">Сценарий 14: Реагирование на инциденты безопасности</a></li>
        <li><a href="15-debugging.html">Сценарий 15: Помощь в отладке</a></li>
        <li><a href="16-entry-points.html">Сценарий 16: Обнаружение точки входа</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">API Документация</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../api/index.html">Обзор</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Интеграции</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../integrations/index.html">Обзор</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Справочник</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../reference/index.html">Обзор</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Enterprise</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../enterprise/index.html">Обзор</a></li>
      </ul>
    </div>
    </aside>

    <!-- Main Content -->
    <main class="doc-main">
      <!-- Breadcrumb -->
      <nav class="doc-breadcrumb">
        <a href="../index.html">Документация</a>
        <span>/</span>
        <a href="index.html">Руководства</a>
        <span>/</span>
        <span>Руководство по устранению неполадок</span>
      </nav>

      <!-- Hero -->
      <div class="doc-hero">
        <h1>Руководство по устранению неполадок</h1>
        
      </div>

      <!-- Content -->
      <article class="doc-content">
        <h1 id="rukovodstvo-po-ustraneniyu-nepoladok">Руководство по устранению неполадок<a class="heading-anchor" href="#rukovodstvo-po-ustraneniyu-nepoladok" title="Link to this section">&para;</a></h1>
<p>Распространённые проблемы и их решения для CodeGraph.</p>
<h2 id="soderzhanie">Содержание<a class="heading-anchor" href="#soderzhanie" title="Link to this section">&para;</a></h2>
<ul>
<li><a href="#problemy-ustanovki">Проблемы установки</a></li>
<li><a href="#cuda-ne-naydena">CUDA не найдена</a></li>
<li><a href="#ne-udalos-podklyuchitsya-k-duckdb">Не удалось подключиться к DuckDB</a></li>
<li><a href="#ne-udalos-initsializirovat-chromadb">Не удалось инициализировать ChromaDB</a></li>
<li><a href="#oshibki-importa">Ошибки импорта</a></li>
<li><a href="#problemy-s-postavschikom-llm">Проблемы с поставщиком LLM</a></li>
<li><a href="#oshibka-autentifikatsii-gigachat">Ошибка аутентификации GigaChat</a></li>
<li><a href="#nedostatochno-pamyati-u-lokalnoy-modeli-llm">Недостаточно памяти у локальной модели LLM</a></li>
<li><a href="#taymaut-otveta-llm">Таймаут ответа LLM</a></li>
<li><a href="#problemy-s-zaprosami">Проблемы с запросами</a></li>
<li><a href="#rezultaty-ne-naydeny">Результаты не найдены</a></li>
<li><a href="#medlennaya-rabota-zaprosov">Медленная работа запросов</a></li>
<li><a href="#nekorrektnye-rezultaty">Некорректные результаты</a></li>
<li><a href="#problemy-s-serverom-joern">Проблемы с сервером Joern</a></li>
<li><a href="#server-ne-zapuskaetsya">Сервер не запускается</a></li>
<li><a href="#taymaut-zaprosa-sqlpgq">Таймаут запроса SQL/PGQ</a></li>
<li><a href="#problemy-s-pamyatyu">Проблемы с памятью</a></li>
<li><a href="#nedostatochno-pamyati-vo-vremya-obrabotki">Недостаточно памяти во время обработки</a></li>
<li><a href="#vysokoe-ispolzovanie-pamyati">Высокое использование памяти</a></li>
<li><a href="#otladka">Отладка</a></li>
<li><a href="#vklyuchenie-otladochnogo-logirovaniya">Включение отладочного логирования</a></li>
<li><a href="#proverka-sostoyaniya-komponentov">Проверка состояния компонентов</a></li>
<li><a href="#generatsiya-otchyota-ob-otladke">Генерация отчёта об отладке</a></li>
<li><a href="#poluchenie-pomoschi">Получение помощи</a></li>
<li><a href="#dalneyshie-shagi">Дальнейшие шаги</a></li>
</ul>
<h2 id="problemy-ustanovki">Проблемы установки<a class="heading-anchor" href="#problemy-ustanovki" title="Link to this section">&para;</a></h2>
<h3 id="cuda-ne-naydena">CUDA не найдена<a class="heading-anchor" href="#cuda-ne-naydena" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">RuntimeError</span><span class="o">:</span><span class="w"> </span><span class="n">CUDA</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">available</span>
</code></pre></div>

<p><strong>Решение:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Проверка установки CUDA</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">smi</span>
<span class="n">nvcc</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>

<span class="c1"># Переустановка PyTorch с поддержкой CUDA</span>
<span class="n">pip</span><span class="w"> </span><span class="n">uninstall</span><span class="w"> </span><span class="n">torch</span>
<span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">torch</span><span class="w"> </span><span class="o">--</span><span class="n">index</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">pytorch</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">whl</span><span class="o">/</span><span class="n">cu118</span>
</code></pre></div>

<h3 id="ne-udalos-podklyuchitsya-k-duckdb">Не удалось подключиться к DuckDB<a class="heading-anchor" href="#ne-udalos-podklyuchitsya-k-duckdb" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong></p>
<div class="highlight"><pre><span></span><code>duckdb.IOException: Could not open file &#39;cpg.duckdb&#39;
</code></pre></div>

<p><strong>Решение:</strong></p>
<div class="highlight"><pre><span></span><code># Проверка существования файла
ls -la cpg.duckdb

# Проверка прав доступа
chmod 644 cpg.duckdb

# Проверка, не заблокирован ли файл другим процессом
lsof cpg.duckdb  # Linux/Mac
</code></pre></div>

<h3 id="ne-udalos-initsializirovat-chromadb">Не удалось инициализировать ChromaDB<a class="heading-anchor" href="#ne-udalos-initsializirovat-chromadb" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong></p>
<div class="highlight"><pre><span></span><code>chromadb.errors.ChromaDBError: Collection not found
</code></pre></div>

<p><strong>Решение:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Проверка существования chromadb_storage
ls -la chromadb_storage/

<span class="gh">#</span> Повторная инициализация при необходимости
python scripts/init_vector_store.py
</code></pre></div>

<h3 id="oshibki-importa">Ошибки импорта<a class="heading-anchor" href="#oshibki-importa" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">ModuleNotFoundError</span><span class="p">:</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="k">module</span><span class="w"> </span><span class="nn">named</span><span class="w"> </span><span class="c">&#39;src&#39;</span>
</code></pre></div>

<p><strong>Решение:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Убедитесь, что вы находитесь в корне проекта</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="err">путь</span><span class="o">/</span><span class="err">к</span><span class="o">/</span><span class="n">codegraph</span>

<span class="c1"># Добавьте в PYTHONPATH</span>
<span class="k">export</span><span class="w"> </span><span class="n">PYTHONPATH</span><span class="o">=</span><span class="s2">&quot;${PYTHONPATH}:$(pwd)&quot;</span>

<span class="c1"># Или установите в режиме разработки</span>
<span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">e</span><span class="w"> </span><span class="o">.</span>
</code></pre></div>

<h2 id="problemy-s-postavschikom-llm">Проблемы с поставщиком LLM<a class="heading-anchor" href="#problemy-s-postavschikom-llm" title="Link to this section">&para;</a></h2>
<h3 id="oshibka-autentifikatsii-gigachat">Ошибка аутентификации GigaChat<a class="heading-anchor" href="#oshibka-autentifikatsii-gigachat" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong></p>
<div class="highlight"><pre><span></span><code><span class="mf">401</span><span class="w"> </span><span class="n">Unauthorized</span><span class="p">:</span><span class="w"> </span><span class="n">Invalid</span><span class="w"> </span><span class="n">credentials</span>
</code></pre></div>

<p><strong>Решение:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Проверка переменной окружения</span>
<span class="n">echo</span> <span class="err">$</span><span class="n">GIGACHAT_AUTH_KEY</span>

<span class="c1"># Установите, если отсутствует</span>
<span class="n">export</span> <span class="n">GIGACHAT_AUTH_KEY</span><span class="o">=</span><span class="s2">&quot;ваш_ключ&quot;</span>

<span class="c1"># Проверка в Python</span>
<span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;import os; print(os.environ.get(&#39;GIGACHAT_AUTH_KEY&#39;, &#39;НЕ УСТАНОВЛЕН&#39;))&quot;</span>
</code></pre></div>

<h3 id="nedostatochno-pamyati-u-lokalnoy-modeli-llm">Недостаточно памяти у локальной модели LLM<a class="heading-anchor" href="#nedostatochno-pamyati-u-lokalnoy-modeli-llm" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong></p>
<div class="highlight"><pre><span></span><code>CUDA out of memory
</code></pre></div>

<p><strong>Решение:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Уменьшите количество слоёв в config.yaml
llm:
  n_gpu_layers: 20  # Уменьшить с -1
  n_ctx: 4096       # Уменьшить размер контекста
</code></pre></div>

<p>Или используйте модель с меньшей квантованием:</p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Используйте Q4_K_M вместо Q5_K_M
</code></pre></div>

<h3 id="taymaut-otveta-llm">Таймаут ответа LLM<a class="heading-anchor" href="#taymaut-otveta-llm" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">TimeoutError</span><span class="o">:</span><span class="w"> </span><span class="n">LLM</span><span class="w"> </span><span class="n">did</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">timeout</span>
</code></pre></div>

<p><strong>Решение:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Увеличьте таймаут в config.yaml
llm:
  timeout: 120  # секунд
  max_retries: 3
</code></pre></div>

<h2 id="problemy-s-zaprosami">Проблемы с запросами<a class="heading-anchor" href="#problemy-s-zaprosami" title="Link to this section">&para;</a></h2>
<h3 id="rezultaty-ne-naydeny">Результаты не найдены<a class="heading-anchor" href="#rezultaty-ne-naydeny" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong></p>
<div class="highlight"><pre><span></span><code>No methods found matching query
</code></pre></div>

<p><strong>Решения:</strong>
1. <strong>Проверьте орфографию</strong> — имена методов чувствительны к регистру
2. <strong>Используйте частичное совпадение</strong> — попробуйте <code>*Transaction*</code> вместо <code>CommitTransaction</code>
3. <strong>Проверьте базу данных</strong> — убедитесь, что данные существуют:</p>
<div class="highlight"><pre><span></span><code>sql
   SELECT COUNT(*) FROM nodes_method WHERE full_name LIKE &#39;%Transaction%&#39;;
</code></pre></div>

<h3 id="medlennaya-rabota-zaprosov">Медленная работа запросов<a class="heading-anchor" href="#medlennaya-rabota-zaprosov" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong>
Запрос выполняется более 10 секунд</p>
<p><strong>Решения:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Уменьшите объём поиска в config.yaml
retrieval:
  top_k_qa: 3      # Уменьшить с 10

<span class="gh">#</span> Отключите гибридный режим для ускорения
retrieval:
  hybrid:
    enabled: false
</code></pre></div>

<h3 id="nekorrektnye-rezultaty">Некорректные результаты<a class="heading-anchor" href="#nekorrektnye-rezultaty" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong>
Ответы не соответствуют ожидаемым</p>
<p><strong>Решения:</strong>
1. <strong>Уточните вопрос</strong> — будьте более конкретны
2. <strong>Проверьте домен</strong> — убедитесь, что выбран правильный домен
3. <strong>Проверьте эмбеддинги</strong> — пересоздайте, если повреждены:</p>
<div class="highlight"><pre><span></span><code><span class="n">bash</span>
<span class="w">   </span><span class="n">python</span><span class="w"> </span><span class="n">src</span><span class="o">/</span><span class="n">cpg_export</span><span class="o">/</span><span class="n">add_vector_embeddings</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">--</span><span class="n">force</span>
</code></pre></div>

<h2 id="problemy-s-serverom-joern">Проблемы с сервером Joern<a class="heading-anchor" href="#problemy-s-serverom-joern" title="Link to this section">&para;</a></h2>
<h3 id="server-ne-zapuskaetsya">Сервер не запускается<a class="heading-anchor" href="#server-ne-zapuskaetsya" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong></p>
<div class="highlight"><pre><span></span><code>Connection refused on port 8080
</code></pre></div>

<p><strong>Решение:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Проверка, используется ли порт
netstat -ano | findstr :8080

<span class="gh">#</span> Завершите процесс, если необходимо
taskkill /F /PID &lt;pid&gt;

<span class="gh">#</span> Перезапустите Joern
powershell -ExecutionPolicy Bypass -File scripts/bootstrap_joern.ps1
</code></pre></div>

<h2 id="problemy-s-pamyatyu">Проблемы с памятью<a class="heading-anchor" href="#problemy-s-pamyatyu" title="Link to this section">&para;</a></h2>
<h3 id="nedostatochno-pamyati-vo-vremya-obrabotki">Недостаточно памяти во время обработки<a class="heading-anchor" href="#nedostatochno-pamyati-vo-vremya-obrabotki" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">MemoryError</span><span class="o">:</span><span class="w"> </span><span class="n">Unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allocate</span>
</code></pre></div>

<p><strong>Решения:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Уменьшите размер пакетов
retrieval:
  batch_size: 25  # Уменьшить с 100

<span class="gh">#</span> Включите пошаговую обработку
processing:
  streaming: true
  chunk_size: 1000
</code></pre></div>

<h3 id="vysokoe-ispolzovanie-pamyati">Высокое использование памяти<a class="heading-anchor" href="#vysokoe-ispolzovanie-pamyati" title="Link to this section">&para;</a></h3>
<p><strong>Симптом:</strong>
Система становится неотзывчивой</p>
<p><strong>Решения:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Мониторинг использования памяти</span>
<span class="n">watch</span> <span class="o">-</span><span class="n">n</span> <span class="mi">1</span> <span class="s1">&#39;free -h&#39;</span>

<span class="c1"># Очистка кэшей</span>
<span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;from src.optimization.query_cache import QueryCache; QueryCache().clear()&quot;</span>

<span class="c1"># Уменьшите использование памяти векторным хранилищем</span>
<span class="c1"># Используйте ChromaDB с хранением на диске</span>
</code></pre></div>

<h2 id="otladka">Отладка<a class="heading-anchor" href="#otladka" title="Link to this section">&para;</a></h2>
<h3 id="vklyuchenie-otladochnogo-logirovaniya">Включение отладочного логирования<a class="heading-anchor" href="#vklyuchenie-otladochnogo-logirovaniya" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code># В config.yaml
logging:
  level: DEBUG
</code></pre></div>

<p>Или через переменную окружения:</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="n">LOG_LEVEL</span><span class="o">=</span><span class="n">DEBUG</span>
<span class="n">python</span><span class="w"> </span><span class="n">examples</span><span class="o">/</span><span class="n">demo_simple</span><span class="o">.</span><span class="n">py</span>
</code></pre></div>

<h3 id="proverka-sostoyaniya-komponentov">Проверка состояния компонентов<a class="heading-anchor" href="#proverka-sostoyaniya-komponentov" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Диагностический скрипт</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.services.cpg_query_service</span><span class="w"> </span><span class="kn">import</span> <span class="n">CPGQueryService</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.retrieval.vector_store_real</span><span class="w"> </span><span class="kn">import</span> <span class="n">VectorStoreReal</span>

<span class="c1"># Проверка DuckDB</span>
<span class="n">cpg</span> <span class="o">=</span> <span class="n">CPGQueryService</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Methods: </span><span class="si">{</span><span class="n">cpg</span><span class="o">.</span><span class="n">count_methods</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Проверка векторного хранилища</span>
<span class="n">vs</span> <span class="o">=</span> <span class="n">VectorStoreReal</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;QA docs: </span><span class="si">{</span><span class="n">vs</span><span class="o">.</span><span class="n">qa_collection</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Проверка LLM</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.llm.llm_interface_compat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_llm</span>
<span class="n">llm</span> <span class="o">=</span> <span class="n">get_llm</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LLM: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">llm</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="generatsiya-otchyota-ob-otladke">Генерация отчёта об отладке<a class="heading-anchor" href="#generatsiya-otchyota-ob-otladke" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">platform</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;=== Информация о системе ===&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Python: </span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Платформа: </span><span class="si">{</span><span class="n">platform</span><span class="o">.</span><span class="n">platform</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">=== CUDA ===&#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;PyTorch: </span><span class="si">{</span><span class="n">torch</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;CUDA доступна: </span><span class="si">{</span><span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">is_available</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Версия CUDA: </span><span class="si">{</span><span class="n">torch</span><span class="o">.</span><span class="n">version</span><span class="o">.</span><span class="n">cuda</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;GPU: </span><span class="si">{</span><span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">get_device_name</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PyTorch не установлен&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">=== Зависимости ===&#39;</span><span class="p">)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">duckdb</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;DuckDB: </span><span class="si">{</span><span class="n">duckdb</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">chromadb</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ChromaDB: </span><span class="si">{</span><span class="n">chromadb</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="s2">&quot;</span>
</code></pre></div>

<h2 id="poluchenie-pomoschi">Получение помощи<a class="heading-anchor" href="#poluchenie-pomoschi" title="Link to this section">&para;</a></h2>
<p>Если проблемы сохраняются:</p>
<ol>
<li><strong>Проверьте логи</strong> в <code>logs/codegraph.log</code></li>
<li><strong>Изучите существующие обращения</strong> в репозитории</li>
<li><strong>Создайте новое обращение</strong>, указав:
   - Сообщение об ошибке
   - Шаги для воспроизведения
   - Вывод отладочного отчёта
   - config.yaml (без конфиденциальных данных)</li>
</ol>
<h2 id="dalneyshie-shagi">Дальнейшие шаги<a class="heading-anchor" href="#dalneyshie-shagi" title="Link to this section">&para;</a></h2>
<ul>
<li><a href="../getting-started/INSTALLATION.html">Установка</a> — руководство по настройке</li>
<li><a href="../getting-started/CONFIGURATION.html">Конфигурация</a> — параметры конфигурации</li>
<li><a href="TUI_USER_GUIDE.html">Руководство пользователя TUI</a> — инструкции по использованию</li>
</ul>
      </article>

      <!-- Page Navigation -->
      <nav class="doc-page-nav">

      <a href="MONITORING.html" class="doc-page-nav-prev">
        <span class="doc-page-nav-label">Назад</span>
        <span class="doc-page-nav-title">Руководство по мониторингу</span>
      </a>

      <a href="SCENARIOS.html" class="doc-page-nav-next">
        <span class="doc-page-nav-label">Вперед</span>
        <span class="doc-page-nav-title">Руководство по сценариям рабочих процессов</span>
      </a>
    </nav>

      <!-- Footer -->
      <footer class="doc-footer">
        <span>Обновлено: 2025-12-25</span>
        <a href="https://github.com/your-org/codegraph/edit/main/docs/guides/TROUBLESHOOTING.md" target="_blank" rel="noopener">Редактировать на GitHub</a>
      </footer>
    </main>

    <!-- Table of Contents -->
    <aside class="doc-toc">
      <div class="doc-toc-title">На этой странице</div>
      <ul class="doc-toc-list">
        <li><a href="#rukovodstvo-po-ustraneniyu-nepoladok" class="level-1">Руководство по устранению неполадок</a></li>
<li><a href="#soderzhanie" class="level-2">Содержание</a></li>
<li><a href="#problemy-ustanovki" class="level-2">Проблемы установки</a></li>
<li><a href="#cuda-ne-naydena" class="level-3">CUDA не найдена</a></li>
<li><a href="#proverka-ustanovki-cuda" class="level-1">Проверка установки CUDA</a></li>
<li><a href="#pereustanovka-pytorch-s-podderzhkoy-cuda" class="level-1">Переустановка PyTorch с поддержкой CUDA</a></li>
<li><a href="#ne-udalos-podklyuchitsya-k-duckdb" class="level-3">Не удалось подключиться к DuckDB</a></li>
<li><a href="#proverka-suschestvovaniya-fayla" class="level-1">Проверка существования файла</a></li>
<li><a href="#proverka-prav-dostupa" class="level-1">Проверка прав доступа</a></li>
<li><a href="#proverka-ne-zablokirovan-li-fayl-drugim-protsessom" class="level-1">Проверка, не заблокирован ли файл другим процессом</a></li>
<li><a href="#ne-udalos-initsializirovat-chromadb" class="level-3">Не удалось инициализировать ChromaDB</a></li>
<li><a href="#proverka-suschestvovaniya-chromadb-storage" class="level-1">Проверка существования chromadb_storage</a></li>
<li><a href="#povtornaya-initsializatsiya-pri-neobhodimosti" class="level-1">Повторная инициализация при необходимости</a></li>
<li><a href="#oshibki-importa" class="level-3">Ошибки импорта</a></li>
<li><a href="#ubedites-chto-vy-nahodites-v-korne-proekta" class="level-1">Убедитесь, что вы находитесь в корне проекта</a></li>
<li><a href="#dobavte-v-pythonpath" class="level-1">Добавьте в PYTHONPATH</a></li>
<li><a href="#ili-ustanovite-v-rezhime-razrabotki" class="level-1">Или установите в режиме разработки</a></li>
<li><a href="#problemy-s-postavschikom-llm" class="level-2">Проблемы с поставщиком LLM</a></li>
<li><a href="#oshibka-autentifikatsii-gigachat" class="level-3">Ошибка аутентификации GigaChat</a></li>
<li><a href="#proverka-peremennoy-okruzheniya" class="level-1">Проверка переменной окружения</a></li>
<li><a href="#ustanovite-esli-otsutstvuet" class="level-1">Установите, если отсутствует</a></li>
<li><a href="#proverka-v-python" class="level-1">Проверка в Python</a></li>
<li><a href="#nedostatochno-pamyati-u-lokalnoy-modeli-llm" class="level-3">Недостаточно памяти у локальной модели LLM</a></li>
<li><a href="#umenshite-kolichestvo-sloyov-v-configyaml" class="level-1">Уменьшите количество слоёв в config.yaml</a></li>
<li><a href="#ispolzuyte-q4-k-m-vmesto-q5-k-m" class="level-1">Используйте Q4_K_M вместо Q5_K_M</a></li>
<li><a href="#taymaut-otveta-llm" class="level-3">Таймаут ответа LLM</a></li>
<li><a href="#uvelichte-taymaut-v-configyaml" class="level-1">Увеличьте таймаут в config.yaml</a></li>
<li><a href="#problemy-s-zaprosami" class="level-2">Проблемы с запросами</a></li>
<li><a href="#rezultaty-ne-naydeny" class="level-3">Результаты не найдены</a></li>
<li><a href="#medlennaya-rabota-zaprosov" class="level-3">Медленная работа запросов</a></li>
<li><a href="#umenshite-obyom-poiska-v-configyaml" class="level-1">Уменьшите объём поиска в config.yaml</a></li>
<li><a href="#otklyuchite-gibridnyy-rezhim-dlya-uskoreniya" class="level-1">Отключите гибридный режим для ускорения</a></li>
<li><a href="#nekorrektnye-rezultaty" class="level-3">Некорректные результаты</a></li>
<li><a href="#problemy-s-serverom-joern" class="level-2">Проблемы с сервером Joern</a></li>
<li><a href="#server-ne-zapuskaetsya" class="level-3">Сервер не запускается</a></li>
<li><a href="#proverka-ispolzuetsya-li-port" class="level-1">Проверка, используется ли порт</a></li>
<li><a href="#zavershite-protsess-esli-neobhodimo" class="level-1">Завершите процесс, если необходимо</a></li>
<li><a href="#perezapustite-joern" class="level-1">Перезапустите Joern</a></li>
<li><a href="#problemy-s-pamyatyu" class="level-2">Проблемы с памятью</a></li>
<li><a href="#nedostatochno-pamyati-vo-vremya-obrabotki" class="level-3">Недостаточно памяти во время обработки</a></li>
<li><a href="#umenshite-razmer-paketov" class="level-1">Уменьшите размер пакетов</a></li>
<li><a href="#vklyuchite-poshagovuyu-obrabotku" class="level-1">Включите пошаговую обработку</a></li>
<li><a href="#vysokoe-ispolzovanie-pamyati" class="level-3">Высокое использование памяти</a></li>
<li><a href="#monitoring-ispolzovaniya-pamyati" class="level-1">Мониторинг использования памяти</a></li>
<li><a href="#ochistka-keshey" class="level-1">Очистка кэшей</a></li>
<li><a href="#umenshite-ispolzovanie-pamyati-vektornym-hranilischem" class="level-1">Уменьшите использование памяти векторным хранилищем</a></li>
<li><a href="#ispolzuyte-chromadb-s-hraneniem-na-diske" class="level-1">Используйте ChromaDB с хранением на диске</a></li>
<li><a href="#otladka" class="level-2">Отладка</a></li>
<li><a href="#vklyuchenie-otladochnogo-logirovaniya" class="level-3">Включение отладочного логирования</a></li>
<li><a href="#v-configyaml" class="level-1">В config.yaml</a></li>
<li><a href="#proverka-sostoyaniya-komponentov" class="level-3">Проверка состояния компонентов</a></li>
<li><a href="#diagnosticheskiy-skript" class="level-1">Диагностический скрипт</a></li>
<li><a href="#proverka-duckdb" class="level-1">Проверка DuckDB</a></li>
<li><a href="#proverka-vektornogo-hranilischa" class="level-1">Проверка векторного хранилища</a></li>
<li><a href="#proverka-llm" class="level-1">Проверка LLM</a></li>
<li><a href="#generatsiya-otchyota-ob-otladke" class="level-3">Генерация отчёта об отладке</a></li>
<li><a href="#poluchenie-pomoschi" class="level-2">Получение помощи</a></li>
<li><a href="#dalneyshie-shagi" class="level-2">Дальнейшие шаги</a></li>
      </ul>
    </aside>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <img src="../../../assets/svg/logo.svg" alt="CodeGraph" width="160" height="40">
          <p>AI-копилот для анализа исходного кода</p>
        </div>
        <div class="footer-links">
          <div class="footer-links-group">
            <h4>Продукт</h4>
            <ul class="footer-links-list">
              <li><a href="../../../index.html#features" class="footer-link">Возможности</a></li>
              <li><a href="../../../index.html#integrations" class="footer-link">Интеграции</a></li>
              <li><a href="../../../index.html#faq" class="footer-link">FAQ</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Документация</h4>
            <ul class="footer-links-list">
              <li><a href="../getting-started/index.html" class="footer-link">Начало работы</a></li>
              <li><a href="../guides/index.html" class="footer-link">Руководства</a></li>
              <li><a href="../api/index.html" class="footer-link">API</a></li>
              <li><a href="../enterprise/index.html" class="footer-link">Enterprise</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Ресурсы</h4>
            <ul class="footer-links-list">
              <li><a href="../../../whitepaper.html" class="footer-link">Whitepaper</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Контакты</h4>
            <ul class="footer-links-list">
              <li><a href="mailto:hello@codegraph.ru" class="footer-link">hello@codegraph.ru</a></li>
              <li><a href="https://t.me/codegraph" class="footer-link" target="_blank" rel="noopener">Telegram</a></li>
              <li><a href="https://github.com/codegraph" class="footer-link" target="_blank" rel="noopener">GitHub</a></li>
            </ul>
            <div class="footer-social">
              <a href="https://t.me/codegraph" class="footer-social-link" target="_blank" rel="noopener" aria-label="Telegram">
                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                </svg>
              </a>
              <a href="https://github.com/codegraph" class="footer-social-link" target="_blank" rel="noopener" aria-label="GitHub">
                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 CodeGraph. Все права защищены.</p>
      </div>
    </div>
  </footer>

  <script src="../../../js/main.js"></script>
</body>
</html>
