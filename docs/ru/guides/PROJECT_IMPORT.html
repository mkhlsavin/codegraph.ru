<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CodeGraph documentation: Импорт новой кодовой базы">
  <meta name="keywords" content="CodeGraph, documentation, guides">

  <meta property="og:title" content="Импорт новой кодовой базы - CodeGraph">
  <meta property="og:description" content="CodeGraph documentation: Импорт новой кодовой базы">
  <meta property="og:type" content="article">

  <title>Импорт новой кодовой базы - CodeGraph Documentation</title>

  <link rel="icon" type="image/svg+xml" href="../../../assets/svg/logo-compact.svg">
  <link rel="stylesheet" href="../../../css/styles.css?v=2">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="nav container">
      <a href="../../../" class="logo">
        <img src="../../../assets/svg/logo.svg" alt="CodeGraph" width="160" height="40">
      </a>

      <ul class="nav-list">
        <li><a href="../../../index.html#problems" class="nav-link">Проблемы</a></li>
        <li><a href="../../../index.html#solution" class="nav-link">Решение</a></li>
        <li><a href="../../../index.html#features" class="nav-link">Возможности</a></li>
        <li><a href="../../../index.html#integrations" class="nav-link">Интеграции</a></li>
        <li><a href="../index.html" class="nav-link active">Документация</a></li>
        <li><a href="../../../index.html#faq" class="nav-link">FAQ</a></li>
      </ul>

      <div class="header-actions">
        <div class="lang-switcher">
          <a href="../../en/guides/PROJECT_IMPORT.html" class="">EN</a>
          <a href="../../ru/guides/PROJECT_IMPORT.html" class="active">RU</a>
        </div>
        <button class="theme-toggle" aria-label="Переключить тему">
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
        <a href="../../../index.html#demo" class="btn btn-primary">Запросить демо</a>
      </div>

      <button class="mobile-menu-toggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </nav>
    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
      <ul class="mobile-nav-list">
        <li><a href="../../../index.html#problems" class="mobile-nav-link">Проблемы</a></li>
        <li><a href="../../../index.html#solution" class="mobile-nav-link">Решение</a></li>
        <li><a href="../../../index.html#features" class="mobile-nav-link">Возможности</a></li>
        <li><a href="../../../index.html#integrations" class="mobile-nav-link">Интеграции</a></li>
        <li><a href="../index.html" class="mobile-nav-link">Документация</a></li>
        <li><a href="../../../index.html#faq" class="mobile-nav-link">FAQ</a></li>
        <li><a href="../../../index.html#demo" class="btn btn-primary mobile-nav-demo-btn">Запросить демо</a></li>
      </ul>
    </nav>
  </header>

  <div class="doc-layout">
    <!-- Sidebar Navigation -->
    <aside class="doc-sidebar">
      
    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Начало работы</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../getting-started/index.html">Обзор</a></li>
        <li><a href="../getting-started/CONFIGURATION.html">Руководство по настройке</a></li>
        <li><a href="../getting-started/INSTALLATION.html">Руководство по установке</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Руководства</div>
      <ul class="doc-sidebar-nav">
        <li><a href="index.html">Обзор</a></li>
        <li><a href="BENCHMARK_GUIDE.html">Руководство по тестовой платформе</a></li>
        <li><a href="CLI_GUIDE.html">Руководство по CLI</a></li>
        <li><a href="CODE_REVIEW.html">Автоматический код-ревью</a></li>
        <li><a href="CPG_EXPORT.html">Руководство по экспорту CPG</a></li>
        <li><a href="MONITORING.html">Руководство по мониторингу</a></li>
        <li><a href="PROGRAMMATIC_GUIDE.html">Руководство пользователя</a></li>
        <li><a href="PROJECT_IMPORT.html" class="active">Импорт новой кодовой базы</a></li>
        <li><a href="QUICK_REFERENCE.html">Краткое руководство по CodeGraph</a></li>
        <li><a href="REFACTORING.html">Руководство по анализу рефакторинга</a></li>
        <li><a href="SCENARIOS.html">Руководство по сценариям рабочих процессов</a></li>
        <li><a href="TROUBLESHOOTING.html">Руководство по устранению неполадок</a></li>
        <li><a href="TUI_USER_GUIDE.html">Руководство пользователя CodeGraph</a></li>
        <li><a href="01-onboarding.html">Сценарий 01: Ввод нового разработчика</a></li>
        <li><a href="02-security-audit.html">Сценарий 02: Аудит безопасности</a></li>
        <li><a href="03-documentation.html">Сценарий 03: Генерация документации</a></li>
        <li><a href="04-feature-development.html">Сценарий 04: Разработка функций</a></li>
        <li><a href="05-refactoring.html">Сценарий 05: Рефакторинг</a></li>
        <li><a href="06-performance.html">Сценарий 06: Анализ производительности</a></li>
        <li><a href="07-test-coverage.html">Сценарий 07: Покрытие тестами</a></li>
        <li><a href="08-compliance.html">Сценарий 08: Проверка соответствия требованиям</a></li>
        <li><a href="09-code-review.html">Сценарий 09: Код-ревью</a></li>
        <li><a href="10-cross-repo.html">Сценарий 10: Анализ между репозиториями</a></li>
        <li><a href="11-architecture.html">Сценарий 11: Анализ архитектуры</a></li>
        <li><a href="12-tech-debt.html">Сценарий 12: Оценка технического долга</a></li>
        <li><a href="13-mass-refactoring.html">Сценарий 13: Массовая рефакторизация</a></li>
        <li><a href="14-incident-response.html">Сценарий 14: Реагирование на инциденты безопасности</a></li>
        <li><a href="15-debugging.html">Сценарий 15: Помощь в отладке</a></li>
        <li><a href="16-entry-points.html">Сценарий 16: Обнаружение точки входа</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">API Документация</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../api/index.html">Обзор</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Интеграции</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../integrations/index.html">Обзор</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Справочник</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../reference/index.html">Обзор</a></li>
      </ul>
    </div>

    <div class="doc-sidebar-section">
      <div class="doc-sidebar-title">Enterprise</div>
      <ul class="doc-sidebar-nav">
        <li><a href="../enterprise/index.html">Обзор</a></li>
      </ul>
    </div>
    </aside>

    <!-- Main Content -->
    <main class="doc-main">
      <!-- Breadcrumb -->
      <nav class="doc-breadcrumb">
        <a href="../index.html">Документация</a>
        <span>/</span>
        <a href="index.html">Руководства</a>
        <span>/</span>
        <span>Импорт новой кодовой базы</span>
      </nav>

      <!-- Hero -->
      <div class="doc-hero">
        <h1>Импорт новой кодовой базы</h1>
        
      </div>

      <!-- Content -->
      <article class="doc-content">
        <h1 id="import-novoy-kodovoy-bazy">Импорт новой кодовой базы<a class="heading-anchor" href="#import-novoy-kodovoy-bazy" title="Link to this section">&para;</a></h1>
<p>Руководство по импорту новых проектов в систему CodeGraph.</p>
<blockquote class="callout">
<p><strong>Примечание:</strong> В этом руководстве описывается создание новых данных CPG из исходного кода. Для использования существующих данных CPG просто настройте параметр <code>cpg.db_path</code> в файле <code>config.yaml</code>, указав путь к вашему файлу DuckDB.</p>
</blockquote>
<h2 id="soderzhanie">Содержание<a class="heading-anchor" href="#soderzhanie" title="Link to this section">&para;</a></h2>
<ul>
<li><a href="#obzor">Обзор</a></li>
<li><a href="#podderzhivaemye-yazyki">Поддерживаемые языки</a></li>
<li><a href="#ispolzovanie-cli">Использование CLI</a></li>
<li><a href="#polnyy-konveyer-odna-komanda">Полный конвейер (одна команда)</a></li>
<li><a href="#podderzhka-docker">Поддержка Docker</a></li>
<li><a href="#upravlenie-serverom-joern">Управление сервером Joern</a></li>
<li><a href="#upravlenie-proektami">Управление проектами</a></li>
<li><a href="#poshagovyy-import">Пошаговый импорт</a></li>
<li><a href="#spisok-podderzhivaemyh-yazykov">Список поддерживаемых языков</a></li>
<li><a href="#ispolzovanie-rest-api">Использование REST API</a></li>
<li><a href="#poluchit-spisok-podderzhivaemyh-yazykov">Получить список поддерживаемых языков</a></li>
<li><a href="#zapusk-importa-asinhronno">Запуск импорта (асинхронно)</a></li>
<li><a href="#proverka-statusa-importa">Проверка статуса импорта</a></li>
<li><a href="#spisok-vseh-zadach-importa">Список всех задач импорта</a></li>
<li><a href="#otmena-importa">Отмена импорта</a></li>
<li><a href="#zapusk-otdelnogo-shaga">Запуск отдельного шага</a></li>
<li><a href="#import-s-ispolzovaniem-docker">Импорт с использованием Docker</a></li>
<li><a href="#upravlenie-serverom-joern">Управление сервером Joern</a></li>
<li><a href="#upravlenie-proektami">Управление проектами</a></li>
<li><a href="#websocket-dlya-otslezhivaniya-progressa">WebSocket для отслеживания прогресса</a></li>
<li><a href="#parametry-importa">Параметры импорта</a></li>
<li><a href="#rezhimy-importa">Режимы импорта</a></li>
<li><a href="#optsii-klonirovaniya">Опции клонирования</a></li>
<li><a href="#optsii-joern">Опции Joern</a></li>
<li><a href="#optsii-dokumentatsii">Опции документации</a></li>
<li><a href="#rezultat-importa">Результат импорта</a></li>
<li><a href="#struktura-rezultata-projectimportresult">Структура результата (ProjectImportResult)</a></li>
<li><a href="#proverka-cpg">Проверка CPG</a></li>
<li><a href="#otsenka-kachestva-0100">Оценка качества (0–100)</a></li>
<li><a href="#proveryaemye-metriki">Проверяемые метрики</a></li>
<li><a href="#import-ishodnogo-koda">Импорт исходного кода</a></li>
<li><a href="#kak-eto-rabotaet">Как это работает</a></li>
<li><a href="#podderzhivaemye-rasshireniya-faylov">Поддерживаемые расширения файлов</a></li>
<li><a href="#ogranichenie-na-razmer-fayla">Ограничение на размер файла</a></li>
<li><a href="#normalizatsiya-putey">Нормализация путей</a></li>
<li><a href="#statistika-importa">Статистика импорта</a></li>
<li><a href="#plagin-predmetnoy-oblasti-domain-plugin">Плагин предметной области (Domain Plugin)</a></li>
<li><a href="#struktura-plagina">Структура плагина</a></li>
<li><a href="#konfiguratsiya-subsystemsyaml">Конфигурация: subsystems.yaml</a></li>
<li><a href="#konfiguratsiya-promptsyaml">Конфигурация: prompts.yaml</a></li>
<li><a href="#aktivatsiya-plagina-predmetnoy-oblasti">Активация плагина предметной области</a></li>
<li><a href="#rabota-s-bolshimi-repozitoriyami">Работа с большими репозиториями</a></li>
<li><a href="#llvm-milliony-strok-koda">LLVM (миллионы строк кода)</a></li>
<li><a href="#rekomendatsii">Рекомендации</a></li>
<li><a href="#python-api">Python API</a></li>
<li><a href="#zapusk-otdelnyh-shagov">Запуск отдельных шагов</a></li>
<li><a href="#ustranenie-nepoladok">Устранение неполадок</a></li>
<li><a href="#joern-frontend-ne-nayden">Joern Frontend не найден</a></li>
<li><a href="#nedostatochno-pamyati-dlya-joern">Недостаточно памяти для Joern</a></li>
<li><a href="#yazyk-ne-raspoznan">Язык не распознан</a></li>
<li><a href="#proverka-cpg-ne-proydena">Проверка CPG не пройдена</a></li>
<li><a href="#konfiguratsiya-configyaml">Конфигурация (config.yaml)</a></li>
<li><a href="#arhitektura-komponentov">Архитектура компонентов</a></li>
<li><a href="#joernservermanager">JoernServerManager</a></li>
<li><a href="#projectregistry">ProjectRegistry</a></li>
<li><a href="#localjoernrunner-dockerjoernrunner">LocalJoernRunner / DockerJoernRunner</a></li>
<li><a href="#sm-takzhe">См. также</a></li>
</ul>
<h2 id="obzor">Обзор<a class="heading-anchor" href="#obzor" title="Link to this section">&para;</a></h2>
<p>Система поддерживает автоматический импорт кодовых баз на различных языках программирования. Процесс включает в себя:</p>
<ol>
<li><strong>Клонирование</strong> — клонирование репозитория</li>
<li><strong>Определение языка</strong> — определение языка программирования</li>
<li><strong>Создание CPG</strong> — построение графа свойств кода (требуется Joern для разбора исходного кода)</li>
<li><strong>Экспорт в DuckDB</strong> — экспорт графа в SQL-базу данных</li>
<li><strong>Импорт исходного кода</strong> — импорт полного содержимого исходных файлов в DuckDB</li>
<li><strong>Проверка</strong> — проверка целостности CPG</li>
<li><strong>Импорт документации</strong> — индексирование документации в ChromaDB</li>
<li><strong>Создание плагина</strong> — генерация доменного плагина</li>
</ol>
<hr />
<h2 id="podderzhivaemye-yazyki">Поддерживаемые языки<a class="heading-anchor" href="#podderzhivaemye-yazyki" title="Link to this section">&para;</a></h2>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Язык</th>
<th>Фронтенд Joern</th>
<th>Расширения файлов</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>C/C++</td>
<td>c2cpg</td>
<td>.c,.h,.cpp,.hpp,.cc,.cxx</td>
<td>Исходный код на C/C++</td>
</tr>
<tr>
<td>C#</td>
<td>csharp2cpg</td>
<td>.cs</td>
<td>Исходный код на C#</td>
</tr>
<tr>
<td>Go</td>
<td>gosrc2cpg</td>
<td>.go</td>
<td>Исходный код на Go</td>
</tr>
<tr>
<td>Java (исходный код)</td>
<td>javasrc2cpg</td>
<td>.java</td>
<td>Исходный код на Java</td>
</tr>
<tr>
<td>Java (байт-код)</td>
<td>jimple2cpg</td>
<td>.class,.jar,.war,.ear</td>
<td>Анализ байт-кода Java через Jimple IR</td>
</tr>
<tr>
<td>JavaScript/TypeScript</td>
<td>jssrc2cpg</td>
<td>.js,.jsx,.ts,.tsx,.mjs</td>
<td>JavaScript/TypeScript</td>
</tr>
<tr>
<td>Kotlin</td>
<td>kotlin2cpg</td>
<td>.kt,.kts</td>
<td>Исходный код на Kotlin</td>
</tr>
<tr>
<td>PHP</td>
<td>php2cpg</td>
<td>.php</td>
<td>Исходный код на PHP</td>
</tr>
<tr>
<td>Python</td>
<td>pysrc2cpg</td>
<td>.py,.pyw</td>
<td>Исходный код на Python</td>
</tr>
<tr>
<td>Ruby</td>
<td>rubysrc2cpg</td>
<td>.rb</td>
<td>Исходный код на Ruby</td>
</tr>
<tr>
<td>Swift</td>
<td>swiftsrc2cpg</td>
<td>.swift</td>
<td>Исходный код на Swift</td>
</tr>
<tr>
<td>Ghidra (бинарные файлы)</td>
<td>ghidra2cpg</td>
<td>.exe,.dll,.so,.dylib,.bin,.elf</td>
<td>Анализ бинарных файлов</td>
</tr>
</tbody>
</table></div>
<h2 id="ispolzovanie-cli">Использование CLI<a class="heading-anchor" href="#ispolzovanie-cli" title="Link to this section">&para;</a></h2>
<h3 id="polnyy-konveyer-odna-komanda">Полный конвейер (одна команда)<a class="heading-anchor" href="#polnyy-konveyer-odna-komanda" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Импорт из репозитория GitHub
python -m src.cli.import_commands full \
    --repo https://github.com/llvm/llvm-project \
    --branch main \
    --shallow \
    --language c

<span class="gh">#</span> Импорт локального проекта
python -m src.cli.import_commands full \
    --path /путь/к/проекту \
    --language java

<span class="gh">#</span> Избирательный импорт (только определённые директории)
python -m src.cli.import_commands full \
    --repo https://github.com/llvm/llvm-project \
    --include llvm/lib llvm/include \
    --exclude test tests

<span class="gh">#</span> Импорт с использованием Docker
python -m src.cli.import_commands full \
    --repo https://github.com/example/project \
    --docker
</code></pre></div>

<h3 id="podderzhka-docker">Поддержка Docker<a class="heading-anchor" href="#podderzhka-docker" title="Link to this section">&para;</a></h3>
<p>Система поддерживает запуск Joern в контейнере Docker для кроссплатформенной работы:</p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Импорт с Docker (локальная установка Joern не требуется)
python -m src.cli.import_commands full \
    --repo https://github.com/example/project \
    --docker

<span class="gh">#</span> С указанием конкретного образа Docker
python -m src.cli.import_commands full \
    --repo https://github.com/example/project \
    --docker \
    --docker-image ghcr.io/joernio/joern:v4.0.0
</code></pre></div>

<p><strong>Преимущества использования Docker:</strong>
- Не требуется локальная установка Joern
- Единообразное поведение на всех платформах (Windows, Linux, macOS)
- Изолированная среда выполнения
- Автоматическое управление ресурсами</p>
<h3 id="upravlenie-serverom-joern">Управление сервером Joern<a class="heading-anchor" href="#upravlenie-serverom-joern" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Статус сервера
python -m src.cli.import_commands server status

<span class="gh">#</span> Запуск сервера (локальный Joern)
python -m src.cli.import_commands server start

<span class="gh">#</span> Запуск сервера в Docker
python -m src.cli.import_commands server start --docker

<span class="gh">#</span> Остановка сервера
python -m src.cli.import_commands server stop
</code></pre></div>

<h3 id="upravlenie-proektami">Управление проектами<a class="heading-anchor" href="#upravlenie-proektami" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Список всех импортированных проектов
python -m src.cli.import_commands projects list

<span class="gh">#</span> Информация о проекте
python -m src.cli.import_commands projects info my_project

<span class="gh">#</span> Активация проекта (установка в качестве текущего)
python -m src.cli.import_commands projects activate my_project

<span class="gh">#</span> Удаление проекта (только метаданные)
python -m src.cli.import_commands projects delete my_project

<span class="gh">#</span> Удаление проекта вместе с файлами (CPG, DuckDB)
python -m src.cli.import_commands projects delete my_project --delete-files
</code></pre></div>

<h3 id="poshagovyy-import">Пошаговый импорт<a class="heading-anchor" href="#poshagovyy-import" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. Клонирование репозитория</span>
<span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">src</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">import_commands</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">repo</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">org</span><span class="o">/</span><span class="n">repo</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">branch</span><span class="w"> </span><span class="n">main</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">shallow</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">depth</span><span class="w"> </span><span class="mi">1</span>

<span class="c1"># 2. Определение языка</span>
<span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">src</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">import_commands</span><span class="w"> </span><span class="n">detect</span><span class="w"> </span><span class="o">--</span><span class="n">path</span><span class="w"> </span><span class="o">./</span><span class="n">workspace</span><span class="o">/</span><span class="n">repo</span>

<span class="c1"># 3. Создание CPG</span>
<span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">src</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">import_commands</span><span class="w"> </span><span class="n">cpg</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">path</span><span class="w"> </span><span class="o">./</span><span class="n">workspace</span><span class="o">/</span><span class="n">repo</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">language</span><span class="w"> </span><span class="n">c</span>

<span class="c1"># 4. Экспорт в DuckDB</span>
<span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">src</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">import_commands</span><span class="w"> </span><span class="k">export</span><span class="w"> </span><span class="o">--</span><span class="n">cpg</span><span class="w"> </span><span class="o">./</span><span class="n">workspace</span><span class="o">/</span><span class="n">repo</span><span class="o">.</span><span class="n">cpg</span>

<span class="c1"># 5. Проверка</span>
<span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">src</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">import_commands</span><span class="w"> </span><span class="n">validate</span><span class="w"> </span><span class="o">--</span><span class="n">db</span><span class="w"> </span><span class="o">./</span><span class="n">workspace</span><span class="o">/</span><span class="n">repo</span><span class="o">.</span><span class="n">duckdb</span>

<span class="c1"># 6. Импорт документации</span>
<span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">src</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">import_commands</span><span class="w"> </span><span class="n">docs</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">path</span><span class="w"> </span><span class="o">./</span><span class="n">workspace</span><span class="o">/</span><span class="n">repo</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">db</span><span class="w"> </span><span class="o">./</span><span class="n">workspace</span><span class="o">/</span><span class="n">repo</span><span class="o">.</span><span class="n">duckdb</span>

<span class="c1"># 7. Создание Domain Plugin</span>
<span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">src</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">import_commands</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">path</span><span class="w"> </span><span class="o">./</span><span class="n">workspace</span><span class="o">/</span><span class="n">repo</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">name</span><span class="w"> </span><span class="n">my_project</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="n">db</span><span class="w"> </span><span class="o">./</span><span class="n">workspace</span><span class="o">/</span><span class="n">repo</span><span class="o">.</span><span class="n">duckdb</span>
</code></pre></div>

<h3 id="spisok-podderzhivaemyh-yazykov">Список поддерживаемых языков<a class="heading-anchor" href="#spisok-podderzhivaemyh-yazykov" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>python -m src.cli.import_commands languages
</code></pre></div>

<hr />
<h2 id="ispolzovanie-rest-api">Использование REST API<a class="heading-anchor" href="#ispolzovanie-rest-api" title="Link to this section">&para;</a></h2>
<h3 id="poluchit-spisok-podderzhivaemyh-yazykov">Получить список поддерживаемых языков<a class="heading-anchor" href="#poluchit-spisok-podderzhivaemyh-yazykov" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>GET /api/v1/import/languages
</code></pre></div>

<p><strong>Ответ:</strong></p>
<div class="highlight"><pre><span></span><code>{
  &quot;languages&quot;: [
    {
      &quot;id&quot;: &quot;c&quot;,
      &quot;name&quot;: &quot;C&quot;,
      &quot;extensions&quot;: [&quot;.c&quot;, &quot;.h&quot;, &quot;.cpp&quot;, &quot;.hpp&quot;],
      &quot;joern_command&quot;: &quot;c2cpg&quot;,
      &quot;joern_flag&quot;: &quot;C&quot;
    },
    {
      &quot;id&quot;: &quot;java&quot;,
      &quot;name&quot;: &quot;JAVA&quot;,
      &quot;extensions&quot;: [&quot;.java&quot;],
      &quot;joern_command&quot;: &quot;javasrc2cpg&quot;,
      &quot;joern_flag&quot;: &quot;JAVASRC&quot;
    }
  ]
}
</code></pre></div>

<h3 id="zapusk-importa-asinhronno">Запуск импорта (асинхронно)<a class="heading-anchor" href="#zapusk-importa-asinhronno" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>POST /api/v1/import/start
Content-Type: application/json

{
  &quot;repo_url&quot;: &quot;https://github.com/llvm/llvm-project&quot;,
  &quot;branch&quot;: &quot;main&quot;,
  &quot;shallow_clone&quot;: true,
  &quot;language&quot;: null,
  &quot;mode&quot;: &quot;full&quot;,
  &quot;include_paths&quot;: [&quot;llvm/lib&quot;, &quot;llvm/include&quot;],
  &quot;exclude_paths&quot;: [&quot;test&quot;, &quot;tests&quot;],
  &quot;create_domain_plugin&quot;: true,
  &quot;import_docs&quot;: true
}
</code></pre></div>

<p><strong>Ответ:</strong></p>
<div class="highlight"><pre><span></span><code>{
  &quot;job_id&quot;: &quot;550e8400-e29b-41d4-a716-446655440000&quot;,
  &quot;status&quot;: &quot;pending&quot;,
  &quot;message&quot;: &quot;Импорт запущен. Используйте job_id для отслеживания прогресса.&quot;
}
</code></pre></div>

<h3 id="proverka-statusa-importa">Проверка статуса импорта<a class="heading-anchor" href="#proverka-statusa-importa" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>GET /api/v1/import/status/{job_id}
</code></pre></div>

<p><strong>Ответ:</strong></p>
<div class="highlight"><pre><span></span><code>{
  &quot;job_id&quot;: &quot;550e8400-e29b-41d4-a716-446655440000&quot;,
  &quot;project_name&quot;: &quot;llvm-project&quot;,
  &quot;status&quot;: &quot;in_progress&quot;,
  &quot;steps&quot;: [
    {&quot;name&quot;: &quot;Clone Repository&quot;, &quot;status&quot;: &quot;completed&quot;, &quot;progress&quot;: 100},
    {&quot;name&quot;: &quot;Detect Language&quot;, &quot;status&quot;: &quot;completed&quot;, &quot;progress&quot;: 100},
    {&quot;name&quot;: &quot;Create CPG&quot;, &quot;status&quot;: &quot;in_progress&quot;, &quot;progress&quot;: 45, &quot;message&quot;: &quot;Создание узлов CPG...&quot;},
    {&quot;name&quot;: &quot;Export to DuckDB&quot;, &quot;status&quot;: &quot;pending&quot;, &quot;progress&quot;: 0},
    {&quot;name&quot;: &quot;Import Source Code&quot;, &quot;status&quot;: &quot;pending&quot;, &quot;progress&quot;: 0},
    {&quot;name&quot;: &quot;Validate CPG&quot;, &quot;status&quot;: &quot;pending&quot;, &quot;progress&quot;: 0},
    {&quot;name&quot;: &quot;Import Documentation&quot;, &quot;status&quot;: &quot;pending&quot;, &quot;progress&quot;: 0},
    {&quot;name&quot;: &quot;Setup Domain Plugin&quot;, &quot;status&quot;: &quot;pending&quot;, &quot;progress&quot;: 0}
  ],
  &quot;current_step&quot;: &quot;joern_import&quot;,
  &quot;overall_progress&quot;: 35,
  &quot;created_at&quot;: &quot;2024-12-09T10:00:00Z&quot;,
  &quot;updated_at&quot;: &quot;2024-12-09T10:05:00Z&quot;
}
</code></pre></div>

<h3 id="spisok-vseh-zadach-importa">Список всех задач импорта<a class="heading-anchor" href="#spisok-vseh-zadach-importa" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>GET /api/v1/import/jobs?status_filter=in_progress&amp;limit=10
</code></pre></div>

<h3 id="otmena-importa">Отмена импорта<a class="heading-anchor" href="#otmena-importa" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>DELETE /api/v1/import/cancel/{job_id}
</code></pre></div>

<h3 id="vypolnenie-otdelnogo-shaga">Выполнение отдельного шага<a class="heading-anchor" href="#vypolnenie-otdelnogo-shaga" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>POST /api/v1/import/step
Content-Type: application/json

{
  &quot;step_id&quot;: &quot;validate&quot;,
  &quot;context&quot;: {
    &quot;duckdb_path&quot;: &quot;./workspace/project.duckdb&quot;
  }
}
</code></pre></div>

<h3 id="import-s-ispolzovaniem-docker">Импорт с использованием Docker<a class="heading-anchor" href="#import-s-ispolzovaniem-docker" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>POST /api/v1/import/start
Content-Type: application/json

{
  &quot;repo_url&quot;: &quot;https://github.com/example/project&quot;,
  &quot;branch&quot;: &quot;main&quot;,
  &quot;use_docker&quot;: true,
  &quot;docker_image&quot;: &quot;ghcr.io/joernio/joern:latest&quot;
}
</code></pre></div>

<h3 id="upravlenie-serverom-joern_1">Управление сервером Joern<a class="heading-anchor" href="#upravlenie-serverom-joern_1" title="Link to this section">&para;</a></h3>
<p><strong>Получить статус сервера:</strong></p>
<div class="highlight"><pre><span></span><code>GET /api/v1/import/server/status
</code></pre></div>

<p><strong>Ответ:</strong></p>
<div class="highlight"><pre><span></span><code>{
  &quot;status&quot;: &quot;running&quot;,
  &quot;mode&quot;: &quot;docker&quot;,
  &quot;container_id&quot;: &quot;abc123&quot;,
  &quot;port&quot;: 8080,
  &quot;uptime_seconds&quot;: 3600
}
</code></pre></div>

<p><strong>Запуск сервера:</strong></p>
<div class="highlight"><pre><span></span><code>POST /api/v1/import/server/start
Content-Type: application/json

{
  &quot;use_docker&quot;: true,
  &quot;docker_image&quot;: &quot;ghcr.io/joernio/joern:latest&quot;
}
</code></pre></div>

<p><strong>Остановка сервера:</strong></p>
<div class="highlight"><pre><span></span><code>POST /api/v1/import/server/stop
</code></pre></div>

<h3 id="upravlenie-proektami_1">Управление проектами<a class="heading-anchor" href="#upravlenie-proektami_1" title="Link to this section">&para;</a></h3>
<p><strong>Список проектов:</strong></p>
<div class="highlight"><pre><span></span><code>GET /api/v1/import/projects
</code></pre></div>

<p><strong>Ответ:</strong></p>
<div class="highlight"><pre><span></span><code>{
  &quot;projects&quot;: [
    {
      &quot;id&quot;: &quot;123&quot;,
      &quot;name&quot;: &quot;my_project&quot;,
      &quot;language&quot;: &quot;python&quot;,
      &quot;cpg_path&quot;: &quot;./workspace/my_project.cpg&quot;,
      &quot;duckdb_path&quot;: &quot;./workspace/my_project.duckdb&quot;,
      &quot;is_active&quot;: true,
      &quot;created_at&quot;: &quot;2024-12-10T10:00:00Z&quot;
    }
  ]
}
</code></pre></div>

<p><strong>Активация проекта:</strong></p>
<div class="highlight"><pre><span></span><code>POST /api/v1/import/projects/{project_id}/activate
</code></pre></div>

<p><strong>Удаление проекта:</strong></p>
<div class="highlight"><pre><span></span><code>DELETE /api/v1/import/projects/{project_id}?delete_files=true
</code></pre></div>

<h2 id="websocket-dlya-otslezhivaniya-hoda-vypolneniya">WebSocket для отслеживания хода выполнения<a class="heading-anchor" href="#websocket-dlya-otslezhivaniya-hoda-vypolneniya" title="Link to this section">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">ws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">WebSocket</span><span class="p">(</span><span class="s1">&#39;ws://localhost:8000/api/v1/ws/jobs/550e8400-e29b-41d4-a716-446655440000&#39;</span><span class="p">);</span>

<span class="n">ws</span><span class="o">.</span><span class="n">onmessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">);</span>

<span class="w">  </span><span class="n">switch</span><span class="w"> </span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">case</span><span class="w"> </span><span class="s1">&#39;job.progress&#39;</span><span class="p">:</span>
<span class="w">      </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`Ход</span><span class="w"> </span><span class="err">выполнения</span><span class="p">:</span><span class="w"> </span><span class="o">$</span><span class="p">{</span><span class="n">msg</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">progress</span><span class="p">}</span><span class="o">%</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">{</span><span class="n">msg</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">message</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="n">case</span><span class="w"> </span><span class="s1">&#39;job.completed&#39;</span><span class="p">:</span>
<span class="w">      </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Импорт завершён:&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">result</span><span class="p">);</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="n">case</span><span class="w"> </span><span class="s1">&#39;job.failed&#39;</span><span class="p">:</span>
<span class="w">      </span><span class="n">console</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Импорт не удался:&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">error</span><span class="p">);</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</code></pre></div>

<h2 id="parametry-importa">Параметры импорта<a class="heading-anchor" href="#parametry-importa" title="Link to this section">&para;</a></h2>
<h3 id="rezhimy-importa">Режимы импорта<a class="heading-anchor" href="#rezhimy-importa" title="Link to this section">&para;</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Режим</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>full</td>
<td>Полный импорт всей кодовой базы</td>
</tr>
<tr>
<td>selective</td>
<td>Импорт только указанных путей (include_paths)</td>
</tr>
<tr>
<td>incremental</td>
<td>Импорт только изменений с момента последнего импорта</td>
</tr>
</tbody>
</table></div>
<h3 id="parametry-klonirovaniya">Параметры клонирования<a class="heading-anchor" href="#parametry-klonirovaniya" title="Link to this section">&para;</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Параметр</th>
<th>По умолчанию</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>shallow_clone</td>
<td>true</td>
<td>Использовать неглубокое клонирование</td>
</tr>
<tr>
<td>shallow_depth</td>
<td>1</td>
<td>Глубина неглубокого клонирования</td>
</tr>
<tr>
<td>branch</td>
<td>&ldquo;main&rdquo;</td>
<td>Ветка для клонирования</td>
</tr>
</tbody>
</table></div>
<h3 id="parametry-joern">Параметры Joern<a class="heading-anchor" href="#parametry-joern" title="Link to this section">&para;</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Параметр</th>
<th>По умолчанию</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>joern_memory_gb</td>
<td>16</td>
<td>Объем памяти для Joern (в ГБ)</td>
</tr>
<tr>
<td>batch_size</td>
<td>10000</td>
<td>Размер пакета для экспорта в DuckDB</td>
</tr>
<tr>
<td>use_docker</td>
<td>false</td>
<td>Использовать Docker для Joern</td>
</tr>
<tr>
<td>docker_image</td>
<td>ghcr.io/joernio/joern:latest</td>
<td>Docker-образ Joern</td>
</tr>
</tbody>
</table></div>
<h3 id="parametry-dokumentatsii">Параметры документации<a class="heading-anchor" href="#parametry-dokumentatsii" title="Link to this section">&para;</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Параметр</th>
<th>По умолчанию</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>import_docs</td>
<td>true</td>
<td>Импортировать документацию</td>
</tr>
<tr>
<td>import_readme</td>
<td>true</td>
<td>Индексировать файлы README</td>
</tr>
<tr>
<td>import_comments</td>
<td>true</td>
<td>Импортировать комментарии в коде</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="rezultat-importa">Результат импорта<a class="heading-anchor" href="#rezultat-importa" title="Link to this section">&para;</a></h2>
<p>После успешного импорта создаются следующие элементы:</p>
<div class="highlight"><pre><span></span><code>workspace/
├── llvm-project/           # Исходный код
├── llvm-project.cpg        # Файл CPG для Joern
└── llvm-project.duckdb     # База данных DuckDB (граф)

chromadb_storage/
└── llvm_project_documentation/  # Коллекция ChromaDB

src/domains/
└── llvm_project/           # Плагин домена
    ├── __init__.py
    ├── plugin.py
    ├── subsystems.yaml
    └── prompts.yaml
</code></pre></div>

<h3 id="struktura-rezultata-projectimportresult">Структура результата (ProjectImportResult)<a class="heading-anchor" href="#struktura-rezultata-projectimportresult" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>{
  &quot;cpg_path&quot;: &quot;./workspace/llvm-project.cpg&quot;,
  &quot;duckdb_path&quot;: &quot;./workspace/llvm-project.duckdb&quot;,
  &quot;domain_plugin_path&quot;: &quot;./src/domains/llvm_project&quot;,
  &quot;chromadb_collection&quot;: &quot;llvm_project_documentation&quot;,
  &quot;chromadb_stats&quot;: {
    &quot;readme_indexed&quot;: 45,
    &quot;docs_indexed&quot;: 230,
    &quot;comments_indexed&quot;: 1500
  },
  &quot;cpg_stats&quot;: {
    &quot;methods&quot;: 125000,
    &quot;calls&quot;: 450000,
    &quot;identifiers&quot;: 890000
  },
  &quot;source_code_stats&quot;: {
    &quot;files_imported&quot;: 6307,
    &quot;files_skipped_size&quot;: 12,
    &quot;total_size_mb&quot;: 84.95
  },
  &quot;validation_report&quot;: {
    &quot;status&quot;: &quot;passed&quot;,
    &quot;quality_score&quot;: 85
  },
  &quot;detected_language&quot;: &quot;c&quot;,
  &quot;import_duration_seconds&quot;: 3600.5
}
</code></pre></div>

<hr />
<h2 id="proverka-cpg">Проверка CPG<a class="heading-anchor" href="#proverka-cpg" title="Link to this section">&para;</a></h2>
<h3 id="otsenka-kachestva-0100">Оценка качества (0–100)<a class="heading-anchor" href="#otsenka-kachestva-0100" title="Link to this section">&para;</a></h3>
<p>Оценка качества импортированного CPG:</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Критерий</th>
<th>Баллы</th>
</tr>
</thead>
<tbody>
<tr>
<td>Найдены методы</td>
<td>+50</td>
</tr>
<tr>
<td>Файлы, связанные с методами (&gt;50%)</td>
<td>+20</td>
</tr>
<tr>
<td>Наличие рёбер AST</td>
<td>+8</td>
</tr>
<tr>
<td>Наличие рёбер CFG</td>
<td>+7</td>
</tr>
<tr>
<td>Отсутствие ошибок проверки</td>
<td>+15</td>
</tr>
</tbody>
</table></div>
<h3 id="proveryaemye-metriki">Проверяемые метрики<a class="heading-anchor" href="#proveryaemye-metriki" title="Link to this section">&para;</a></h3>
<ul>
<li><code>methods_exist</code> — количество методов</li>
<li><code>calls_exist</code> — количество вызовов</li>
<li><code>edges_ast</code> — рёбра AST</li>
<li><code>edges_cfg</code> — рёбра CFG</li>
<li><code>methods_with_files</code> — методы, связанные с файлами</li>
</ul>
<hr />
<h2 id="import-ishodnogo-koda">Импорт исходного кода<a class="heading-anchor" href="#import-ishodnogo-koda" title="Link to this section">&para;</a></h2>
<p>Шаг <code>SourceContentStep</code> импортирует полное содержимое исходного кода в поле <code>nodes_file.content</code> для навигации по коду и его анализа.</p>
<h3 id="printsip-raboty">Принцип работы<a class="heading-anchor" href="#printsip-raboty" title="Link to this section">&para;</a></h3>
<ol>
<li>Считывает файлы из пути <code>source_path</code>, указанного в конфигурации проекта</li>
<li>Заполняет поле <code>nodes_file.content</code> полным содержимым файлов</li>
<li>Автоматически нормализует пути к файлам для совместимости с <code>nodes_method</code> при выполнении JOIN</li>
<li>Определяет язык программирования по расширению файла</li>
</ol>
<h3 id="podderzhivaemye-rasshireniya-faylov">Поддерживаемые расширения файлов<a class="heading-anchor" href="#podderzhivaemye-rasshireniya-faylov" title="Link to this section">&para;</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Язык</th>
<th>Расширения</th>
</tr>
</thead>
<tbody>
<tr>
<td>C/C++</td>
<td>.c,.h,.cpp,.hpp,.cc,.cxx</td>
</tr>
<tr>
<td>Python</td>
<td>.py,.pyw</td>
</tr>
<tr>
<td>Java</td>
<td>.java</td>
</tr>
<tr>
<td>JavaScript/TypeScript</td>
<td>.js,.jsx,.ts,.tsx</td>
</tr>
<tr>
<td>Go</td>
<td>.go</td>
</tr>
<tr>
<td>Rust</td>
<td>.rs</td>
</tr>
<tr>
<td>Ruby</td>
<td>.rb</td>
</tr>
<tr>
<td>PHP</td>
<td>.php</td>
</tr>
<tr>
<td>C#</td>
<td>.cs</td>
</tr>
<tr>
<td>Kotlin</td>
<td>.kt,.kts</td>
</tr>
<tr>
<td>Swift</td>
<td>.swift</td>
</tr>
<tr>
<td>Scala</td>
<td>.scala</td>
</tr>
<tr>
<td>SQL</td>
<td>.sql</td>
</tr>
<tr>
<td>Shell</td>
<td>.sh,.bash</td>
</tr>
<tr>
<td>Конфигурационные файлы</td>
<td>.yaml,.yml,.json,.xml,.toml,.ini</td>
</tr>
</tbody>
</table></div>
<h3 id="ogranichenie-po-razmeru-fayla">Ограничение по размеру файла<a class="heading-anchor" href="#ogranichenie-po-razmeru-fayla" title="Link to this section">&para;</a></h3>
<p>Файлы размером более <strong>500 КБ</strong> пропускаются, чтобы поддерживать разумный объём базы данных. Это ограничение охватывает большинство исходных файлов, исключая при этом большие сгенерированные или бинарные файлы.</p>
<h3 id="normalizatsiya-putey">Нормализация путей<a class="heading-anchor" href="#normalizatsiya-putey" title="Link to this section">&para;</a></h3>
<p>Пути к файлам в поле <code>nodes_file.name</code> автоматически нормализуются для соответствия формату <code>nodes_method.filename</code>. Типичные префиксы, такие как <code>src/</code>, удаляются, чтобы обеспечить прямые JOIN-запросы:</p>
<div class="highlight"><pre><span></span><code><span class="o">--</span><span class="w"> </span><span class="nx">Получение</span><span class="w"> </span><span class="nx">исходного</span><span class="w"> </span><span class="nx">кода</span><span class="w"> </span><span class="nx">метода</span><span class="w"> </span><span class="nx">по</span><span class="w"> </span><span class="nx">номеру</span><span class="w"> </span><span class="nx">строки</span>
<span class="nx">SELECT</span>
<span class="w">    </span><span class="nx">m</span><span class="p">.</span><span class="nx">full_name</span><span class="p">,</span>
<span class="w">    </span><span class="nx">m</span><span class="p">.</span><span class="nx">line_number</span><span class="p">,</span>
<span class="w">    </span><span class="nx">m</span><span class="p">.</span><span class="nx">line_number_end</span><span class="p">,</span>
<span class="w">    </span><span class="nx">f</span><span class="p">.</span><span class="nx">content</span>
<span class="nx">FROM</span><span class="w"> </span><span class="nx">nodes_method</span><span class="w"> </span><span class="nx">m</span>
<span class="nx">JOIN</span><span class="w"> </span><span class="nx">nodes_file</span><span class="w"> </span><span class="nx">f</span><span class="w"> </span><span class="nx">ON</span><span class="w"> </span><span class="nx">REPLACE</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">filename</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;/&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;\&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">REPLACE</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;/&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;\&#39;</span><span class="p">)</span>
<span class="nx">WHERE</span><span class="w"> </span><span class="nx">m</span><span class="p">.</span><span class="nx">full_name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">exec_simple_query</span><span class="err">&#39;</span><span class="p">;</span>
</code></pre></div>

<h3 id="statistika-importa">Статистика импорта<a class="heading-anchor" href="#statistika-importa" title="Link to this section">&para;</a></h3>
<p>После импорта доступна следующая статистика:</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Метрика</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>source_files_imported</td>
<td>Количество успешно импортированных файлов</td>
</tr>
<tr>
<td>source_files_skipped_size</td>
<td>Файлы, пропущенные из-за ограничения по размеру</td>
</tr>
<tr>
<td>source_files_skipped_not_found</td>
<td>Файлы, не найденные в указанном пути</td>
</tr>
<tr>
<td>source_files_total</td>
<td>Общее количество обработанных файлов</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="plagin-domena">Плагин домена<a class="heading-anchor" href="#plagin-domena" title="Link to this section">&para;</a></h2>
<p>Для работы с новым проектом автоматически генерируется плагин.</p>
<h3 id="struktura-plagina">Структура плагина<a class="heading-anchor" href="#struktura-plagina" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">src</span><span class="o">/</span><span class="n">domains</span><span class="o">/</span><span class="n">llvm_project</span><span class="o">/</span><span class="n">plugin</span><span class="p">.</span><span class="n">py</span>

<span class="k">class</span><span class="w"> </span><span class="n">LlvmProjectPlugin</span><span class="p">(</span><span class="n">DomainPlugin</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="nv">@property</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">name</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nf">str</span><span class="err">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="ss">&quot;llvm_project&quot;</span>

<span class="w">    </span><span class="nv">@property</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">display_name</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nf">str</span><span class="err">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="ss">&quot;Llvm Project&quot;</span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">_load_subsystems</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Dict</span><span class="o">[</span><span class="n">str, SubsystemInfo</span><span class="o">]</span><span class="err">:</span>
<span class="w">        </span><span class="err">#</span><span class="w"> </span><span class="n">Загружается</span><span class="w"> </span><span class="n">из</span><span class="w"> </span><span class="n">subsystems</span><span class="p">.</span><span class="n">yaml</span>
<span class="w">        </span><span class="p">...</span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">get_vulnerability_function_mappings</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Dict</span><span class="o">[</span><span class="n">str, List[str</span><span class="o">]</span><span class="err">]:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="ss">&quot;buffer_overflow&quot;</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;strcpy&quot;, &quot;memcpy&quot;, ...</span><span class="o">]</span><span class="p">,</span>
<span class="w">            </span><span class="ss">&quot;sql_injection&quot;</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">...</span><span class="o">]</span><span class="p">,</span>
<span class="w">            </span><span class="p">...</span>
<span class="w">        </span><span class="err">}</span>
</code></pre></div>

<h3 id="konfiguratsiya-subsystemsyaml">Конфигурация: subsystems.yaml<a class="heading-anchor" href="#konfiguratsiya-subsystemsyaml" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">subsystems</span><span class="o">:</span>
<span class="w">  </span><span class="n">core</span><span class="o">:</span>
<span class="w">    </span><span class="n">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Основная логика приложения&quot;</span>
<span class="w">    </span><span class="n">key_functions</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n">main</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n">init</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n">start</span>
<span class="w">    </span><span class="n">patterns</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;src&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;lib&quot;</span>
<span class="w">    </span><span class="n">related_files</span><span class="o">:</span><span class="w"> </span><span class="o">[]</span>

<span class="w">  </span><span class="n">utils</span><span class="o">:</span>
<span class="w">    </span><span class="n">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Вспомогательные функции&quot;</span>
<span class="w">    </span><span class="n">key_functions</span><span class="o">:</span><span class="w"> </span><span class="o">[]</span>
<span class="w">    </span><span class="n">patterns</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;util&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;helper&quot;</span>
</code></pre></div>

<h3 id="konfiguratsiya-promptsyaml">Конфигурация: prompts.yaml<a class="heading-anchor" href="#konfiguratsiya-promptsyaml" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">prompts</span><span class="o">:</span>
<span class="w">  </span><span class="n">onboarding</span><span class="o">:</span>
<span class="w">    </span><span class="n">system</span><span class="o">:</span><span class="w"> </span><span class="o">|</span>
<span class="w">      </span><span class="err">Вы</span><span class="w"> </span><span class="err">являетесь</span><span class="w"> </span><span class="err">экспертом</span><span class="w"> </span><span class="err">по</span><span class="w"> </span><span class="n">Llvm</span><span class="w"> </span><span class="n">Project</span><span class="w"> </span><span class="err">и</span><span class="w"> </span><span class="err">помогаете</span><span class="w"> </span><span class="err">разработчикам</span><span class="w"> </span><span class="err">понять</span><span class="w"> </span><span class="err">кодовую</span><span class="w"> </span><span class="err">базу</span><span class="o">.</span>
<span class="w">    </span><span class="n">user_template</span><span class="o">:</span><span class="w"> </span><span class="o">|</span>
<span class="w">      </span><span class="err">Помогите</span><span class="w"> </span><span class="err">мне</span><span class="w"> </span><span class="err">понять</span><span class="w"> </span><span class="err">следующий</span><span class="w"> </span><span class="err">аспект</span><span class="o">:</span><span class="w"> </span><span class="o">{</span><span class="n">query</span><span class="o">}</span>

<span class="w">  </span><span class="n">security</span><span class="o">:</span>
<span class="w">    </span><span class="n">system</span><span class="o">:</span><span class="w"> </span><span class="o">|</span>
<span class="w">      </span><span class="err">Вы</span><span class="w"> </span><span class="err">являетесь</span><span class="w"> </span><span class="err">экспертом</span><span class="w"> </span><span class="err">по</span><span class="w"> </span><span class="err">безопасности</span><span class="w"> </span><span class="err">и</span><span class="w"> </span><span class="err">анализируете</span><span class="w"> </span><span class="err">код</span><span class="w"> </span><span class="n">Llvm</span><span class="w"> </span><span class="n">Project</span><span class="w"> </span><span class="o">(</span><span class="n">C</span><span class="o">).</span>
<span class="w">    </span><span class="n">user_template</span><span class="o">:</span><span class="w"> </span><span class="o">|</span>
<span class="w">      </span><span class="err">Проанализируйте</span><span class="w"> </span><span class="err">следующий</span><span class="w"> </span><span class="err">код</span><span class="w"> </span><span class="err">на</span><span class="w"> </span><span class="err">наличие</span><span class="w"> </span><span class="err">уязвимостей</span><span class="o">:</span>
<span class="w">      </span><span class="o">{</span><span class="n">code</span><span class="o">}</span>
</code></pre></div>

<hr />
<h2 id="aktivatsiya-plagina-domena">Активация плагина домена<a class="heading-anchor" href="#aktivatsiya-plagina-domena" title="Link to this section">&para;</a></h2>
<p>После создания плагина добавьте его в конфигурацию:</p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> config.yaml
domains:
  active: &quot;llvm_project&quot;
  available:
    <span class="k">-</span> postgresql
    <span class="k">-</span> llvm_project
</code></pre></div>

<p>Или программно:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.domains</span><span class="w"> </span><span class="kn">import</span> <span class="n">DomainRegistry</span>

<span class="n">DomainRegistry</span><span class="o">.</span><span class="n">activate</span><span class="p">(</span><span class="s2">&quot;llvm_project&quot;</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="rabota-s-bolshimi-repozitoriyami">Работа с большими репозиториями<a class="heading-anchor" href="#rabota-s-bolshimi-repozitoriyami" title="Link to this section">&para;</a></h2>
<h3 id="llvm-milliony-strok-koda">LLVM (миллионы строк кода)<a class="heading-anchor" href="#llvm-milliony-strok-koda" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> Использовать неглубокое клонирование
python -m src.cli.import_commands full \
    --repo https://github.com/llvm/llvm-project \
    --shallow \
    --depth 1

<span class="gh">#</span> Или выборочный импорт
python -m src.cli.import_commands full \
    --repo https://github.com/llvm/llvm-project \
    --include llvm/lib/Target/X86 \
    --mode selective

<span class="gh">#</span> Увеличить объем памяти для Joern
python -m src.cli.import_commands full \
    --repo https://github.com/llvm/llvm-project \
    --memory 32
</code></pre></div>

<h3 id="rekomendatsii">Рекомендации<a class="heading-anchor" href="#rekomendatsii" title="Link to this section">&para;</a></h3>
<ol>
<li><strong>Используйте неглубокое клонирование</strong>, чтобы сэкономить место и время</li>
<li><strong>Выбирайте нужные каталоги</strong> с помощью параметра <code>--include</code></li>
<li><strong>Исключайте тесты</strong> с помощью <code>--exclude test tests</code></li>
<li><strong>Увеличьте объем памяти Joern</strong> для крупных проектов (16–32 ГБ)</li>
</ol>
<hr />
<h2 id="python-api">Python API<a class="heading-anchor" href="#python-api" title="Link to this section">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.project_import</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">ProjectImportPipeline</span><span class="p">,</span>
    <span class="n">ProjectImportRequest</span><span class="p">,</span>
    <span class="n">SupportedLanguage</span><span class="p">,</span>
    <span class="n">ImportMode</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Создание запроса</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">ProjectImportRequest</span><span class="p">(</span>
    <span class="n">repo_url</span><span class="o">=</span><span class="s2">&quot;https://github.com/example/project&quot;</span><span class="p">,</span>
    <span class="n">branch</span><span class="o">=</span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
    <span class="n">shallow_clone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">language</span><span class="o">=</span><span class="n">SupportedLanguage</span><span class="o">.</span><span class="n">JAVA</span><span class="p">,</span>  <span class="c1"># или None для автоматического определения</span>
    <span class="n">mode</span><span class="o">=</span><span class="n">ImportMode</span><span class="o">.</span><span class="n">FULL</span><span class="p">,</span>
    <span class="n">include_paths</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;src/main&quot;</span><span class="p">],</span>
    <span class="n">exclude_paths</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;src/test&quot;</span><span class="p">],</span>
    <span class="n">create_domain_plugin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">import_docs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Запуск конвейера</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_import</span><span class="p">():</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">progress_callback</span><span class="p">(</span><span class="n">status</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Прогресс: </span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">overall_progress</span><span class="si">}</span><span class="s2">% - </span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">current_step</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">ProjectImportPipeline</span><span class="p">(</span><span class="n">progress_callback</span><span class="o">=</span><span class="n">progress_callback</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CPG: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">cpg_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DuckDB: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">duckdb_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Язык: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">detected_language</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Оценка качества: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">validation_report</span><span class="p">[</span><span class="s1">&#39;quality_score&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">run_import</span><span class="p">())</span>
</code></pre></div>

<h3 id="zapusk-otdelnyh-shagov">Запуск отдельных шагов<a class="heading-anchor" href="#zapusk-otdelnyh-shagov" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.project_import.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProjectImportPipeline</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">ProjectImportPipeline</span><span class="p">()</span>

<span class="c1"># Контекст шага</span>
<span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="n">ProjectImportRequest</span><span class="p">(),</span>
    <span class="s2">&quot;source_path&quot;</span><span class="p">:</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;./workspace/project&quot;</span><span class="p">),</span>
    <span class="s2">&quot;duckdb_path&quot;</span><span class="p">:</span> <span class="s2">&quot;./workspace/project.duckdb&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># Выполнение шага валидации</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">run_step</span><span class="p">(</span><span class="s2">&quot;validate&quot;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;validation_report&quot;</span><span class="p">])</span>
</code></pre></div>

<hr />
<h2 id="ustranenie-nepoladok">Устранение неполадок<a class="heading-anchor" href="#ustranenie-nepoladok" title="Link to this section">&para;</a></h2>
<h3 id="ne-nayden-interfeys-joern">Не найден интерфейс Joern<a class="heading-anchor" href="#ne-nayden-interfeys-joern" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">RuntimeError</span><span class="o">:</span><span class="w"> </span><span class="n">Frontend</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">paths</span>
</code></pre></div>

<p><strong>Решение:</strong> Проверьте переменную <code>JOERN_HOME</code> или укажите путь явно:</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="n">JOERN_HOME</span><span class="o">=/</span><span class="err">путь</span><span class="o">/</span><span class="err">к</span><span class="o">/</span><span class="n">joern</span>
<span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">src</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">import_commands</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="o">--</span><span class="n">repo</span><span class="w"> </span><span class="o">...</span>
</code></pre></div>

<h3 id="nedostatochno-pamyati-dlya-joern">Недостаточно памяти для Joern<a class="heading-anchor" href="#nedostatochno-pamyati-dlya-joern" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>java.lang.OutOfMemoryError: Java heap space
</code></pre></div>

<p><strong>Решение:</strong> Увеличьте объём памяти:</p>
<div class="highlight"><pre><span></span><code>python -m src.cli.import_commands full --repo ... --memory 32
</code></pre></div>

<h3 id="yazyk-ne-raspoznan">Язык не распознан<a class="heading-anchor" href="#yazyk-ne-raspoznan" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">ValueError</span><span class="o">:</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">found</span>
</code></pre></div>

<p><strong>Решение:</strong> Укажите язык явно:</p>
<div class="highlight"><pre><span></span><code>python -m src.cli.import_commands full --repo ... --language java
</code></pre></div>

<h3 id="oshibka-proverki-cpg">Ошибка проверки CPG<a class="heading-anchor" href="#oshibka-proverki-cpg" title="Link to this section">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Validation errors: [&#39;methods_exist: expected &gt;= 1, got 0&#39;]
</code></pre></div>

<p><strong>Решение:</strong> Проверьте следующее:
1. Правильный ли путь к исходному коду
2. Соответствует ли интерфейс Joern языку исходного кода
3. Не исключаются ли файлы с помощью шаблонов</p>
<hr />
<h2 id="konfiguratsiya-configyaml">Конфигурация (config.yaml)<a class="heading-anchor" href="#konfiguratsiya-configyaml" title="Link to this section">&para;</a></h2>
<p>Настройки модуля <code>project_import</code> в файле <code>config.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">project_import</span><span class="o">:</span>
<span class="w">  </span><span class="n">joern</span><span class="o">:</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">Путь</span><span class="w"> </span><span class="err">к</span><span class="w"> </span><span class="err">локальной</span><span class="w"> </span><span class="err">установке</span><span class="w"> </span><span class="n">Joern</span><span class="w"> </span><span class="o">(</span><span class="err">необязательно</span><span class="o">,</span><span class="w"> </span><span class="err">если</span><span class="w"> </span><span class="err">используется</span><span class="w"> </span><span class="n">Docker</span><span class="o">)</span>
<span class="w">    </span><span class="n">home</span><span class="o">:</span><span class="w"> </span><span class="n">$</span><span class="o">{</span><span class="n">JOERN_HOME</span><span class="o">}</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">Использовать</span><span class="w"> </span><span class="n">Docker</span><span class="w"> </span><span class="err">вместо</span><span class="w"> </span><span class="err">локальной</span><span class="w"> </span><span class="err">установки</span><span class="w"> </span><span class="n">Joern</span>
<span class="w">    </span><span class="n">use_docker</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="n">Docker</span><span class="o">-</span><span class="err">образ</span><span class="w"> </span><span class="err">для</span><span class="w"> </span><span class="n">Joern</span>
<span class="w">    </span><span class="n">docker_image</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ghcr.io/joernio/joern:latest&quot;</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">Таймаут</span><span class="w"> </span><span class="err">соединения</span><span class="w"> </span><span class="err">с</span><span class="w"> </span><span class="err">сервером</span><span class="w"> </span><span class="o">(</span><span class="err">секунды</span><span class="o">)</span>
<span class="w">    </span><span class="n">server_timeout</span><span class="o">:</span><span class="w"> </span><span class="mi">30</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">Память</span><span class="w"> </span><span class="n">JVM</span><span class="w"> </span><span class="o">(</span><span class="err">ГБ</span><span class="o">)</span>
<span class="w">    </span><span class="n">memory_gb</span><span class="o">:</span><span class="w"> </span><span class="mi">16</span>

<span class="w">  </span><span class="n">workspace</span><span class="o">:</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">Каталог</span><span class="w"> </span><span class="err">для</span><span class="w"> </span><span class="err">клонированных</span><span class="w"> </span><span class="err">репозиториев</span>
<span class="w">    </span><span class="n">clone_dir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;./workspace&quot;</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">Каталог</span><span class="w"> </span><span class="err">для</span><span class="w"> </span><span class="err">файлов</span><span class="w"> </span><span class="n">CPG</span>
<span class="w">    </span><span class="n">cpg_dir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;./workspace&quot;</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">Каталог</span><span class="w"> </span><span class="err">для</span><span class="w"> </span><span class="err">файлов</span><span class="w"> </span><span class="n">DuckDB</span>
<span class="w">    </span><span class="n">duckdb_dir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;./workspace&quot;</span>

<span class="w">  </span><span class="n">defaults</span><span class="o">:</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">Глубина</span><span class="w"> </span><span class="err">по</span><span class="w"> </span><span class="err">умолчанию</span><span class="w"> </span><span class="err">для</span><span class="w"> </span><span class="err">неглубокого</span><span class="w"> </span><span class="err">клонирования</span>
<span class="w">    </span><span class="n">shallow_depth</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">Шаблоны</span><span class="w"> </span><span class="err">исключения</span><span class="w"> </span><span class="err">по</span><span class="w"> </span><span class="err">умолчанию</span>
<span class="w">    </span><span class="n">exclude_patterns</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;node_modules&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;venv&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;.venv&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;__pycache__&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;.git&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;test&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;tests&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;vendor&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;third_party&quot;</span>
</code></pre></div>

<hr />
<h2 id="arhitektura-komponentov">Архитектура компонентов<a class="heading-anchor" href="#arhitektura-komponentov" title="Link to this section">&para;</a></h2>
<h3 id="joernservermanager">JoernServerManager<a class="heading-anchor" href="#joernservermanager" title="Link to this section">&para;</a></h3>
<p>Центральный компонент для управления сервером Joern:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.project_import</span><span class="w"> </span><span class="kn">import</span> <span class="n">JoernServerManager</span>

<span class="c1"># Создание менеджера</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">JoernServerManager</span><span class="p">(</span><span class="n">use_docker</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Запуск сервера</span>
<span class="k">await</span> <span class="n">manager</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Получение клиента</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">get_client</span><span class="p">()</span>

<span class="c1"># Остановка сервера</span>
<span class="k">await</span> <span class="n">manager</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre></div>

<h3 id="projectregistry">ProjectRegistry<a class="heading-anchor" href="#projectregistry" title="Link to this section">&para;</a></h3>
<p>Реестр проектов в PostgreSQL:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.project_import</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProjectRegistry</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">ProjectRegistry</span><span class="p">()</span> <span class="k">as</span> <span class="n">registry</span><span class="p">:</span>
    <span class="c1"># Список проектов</span>
    <span class="n">projects</span> <span class="o">=</span> <span class="k">await</span> <span class="n">registry</span><span class="o">.</span><span class="n">list_projects</span><span class="p">()</span>

    <span class="c1"># Активация проекта</span>
    <span class="k">await</span> <span class="n">registry</span><span class="o">.</span><span class="n">set_active_project</span><span class="p">(</span><span class="s2">&quot;my_project&quot;</span><span class="p">)</span>

    <span class="c1"># Удаление проекта</span>
    <span class="k">await</span> <span class="n">registry</span><span class="o">.</span><span class="n">delete_project</span><span class="p">(</span><span class="s2">&quot;old_project&quot;</span><span class="p">,</span> <span class="n">delete_files</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

<h3 id="localjoernrunner-dockerjoernrunner">LocalJoernRunner / DockerJoernRunner<a class="heading-anchor" href="#localjoernrunner-dockerjoernrunner" title="Link to this section">&para;</a></h3>
<p>Запускаторы для выполнения команд Joern:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Локальное выполнение</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.project_import</span><span class="w"> </span><span class="kn">import</span> <span class="n">LocalJoernRunner</span>
<span class="n">runner</span> <span class="o">=</span> <span class="n">LocalJoernRunner</span><span class="p">(</span><span class="n">joern_home</span><span class="o">=</span><span class="s2">&quot;/path/to/joern&quot;</span><span class="p">)</span>

<span class="c1"># Выполнение в Docker</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.project_import</span><span class="w"> </span><span class="kn">import</span> <span class="n">DockerJoernRunner</span>
<span class="n">runner</span> <span class="o">=</span> <span class="n">DockerJoernRunner</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="s2">&quot;ghcr.io/joernio/joern:latest&quot;</span><span class="p">)</span>

<span class="c1"># Запуск frontend</span>
<span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">run_frontend</span><span class="p">(</span><span class="s2">&quot;pysrc2cpg&quot;</span><span class="p">,</span> <span class="n">source_path</span><span class="p">,</span> <span class="n">output_cpg</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="smotrite-takzhe">Смотрите также<a class="heading-anchor" href="#smotrite-takzhe" title="Link to this section">&para;</a></h2>
<ul>
<li><a href="../api/REST_API.html">Документация по REST API</a> - Точки доступа HTTP API</li>
<li><a href="../reference/API.html">Справочник API</a> - Python API</li>
<li><a href="SCENARIOS.html">Руководство по сценариям</a> - Сценарии анализа</li>
</ul>
      </article>

      <!-- Page Navigation -->
      <nav class="doc-page-nav">

      <a href="PROGRAMMATIC_GUIDE.html" class="doc-page-nav-prev">
        <span class="doc-page-nav-label">Назад</span>
        <span class="doc-page-nav-title">Руководство пользователя</span>
      </a>

      <a href="CPG_EXPORT.html" class="doc-page-nav-next">
        <span class="doc-page-nav-label">Вперед</span>
        <span class="doc-page-nav-title">Руководство по экспорту CPG</span>
      </a>
    </nav>

      <!-- Footer -->
      <footer class="doc-footer">
        <span>Обновлено: 2025-12-27</span>
        <a href="https://github.com/your-org/codegraph/edit/main/docs/guides/PROJECT_IMPORT.md" target="_blank" rel="noopener">Редактировать на GitHub</a>
      </footer>
    </main>

    <!-- Table of Contents -->
    <aside class="doc-toc">
      <div class="doc-toc-title">На этой странице</div>
      <ul class="doc-toc-list">
        <li><a href="#import-novoy-kodovoy-bazy" class="level-1">Импорт новой кодовой базы</a></li>
<li><a href="#soderzhanie" class="level-2">Содержание</a></li>
<li><a href="#obzor" class="level-2">Обзор</a></li>
<li><a href="#podderzhivaemye-yazyki" class="level-2">Поддерживаемые языки</a></li>
<li><a href="#ispolzovanie-cli" class="level-2">Использование CLI</a></li>
<li><a href="#polnyy-konveyer-odna-komanda" class="level-3">Полный конвейер (одна команда)</a></li>
<li><a href="#import-iz-repozitoriya-github" class="level-1">Импорт из репозитория GitHub</a></li>
<li><a href="#import-lokalnogo-proekta" class="level-1">Импорт локального проекта</a></li>
<li><a href="#izbiratelnyy-import-tolko-opredelyonnye-direktorii" class="level-1">Избирательный импорт (только определённые директории)</a></li>
<li><a href="#import-s-ispolzovaniem-docker" class="level-1">Импорт с использованием Docker</a></li>
<li><a href="#podderzhka-docker" class="level-3">Поддержка Docker</a></li>
<li><a href="#import-s-docker-lokalnaya-ustanovka-joern-ne-trebuetsya" class="level-1">Импорт с Docker (локальная установка Joern не требуется)</a></li>
<li><a href="#s-ukazaniem-konkretnogo-obraza-docker" class="level-1">С указанием конкретного образа Docker</a></li>
<li><a href="#upravlenie-serverom-joern" class="level-3">Управление сервером Joern</a></li>
<li><a href="#status-servera" class="level-1">Статус сервера</a></li>
<li><a href="#zapusk-servera-lokalnyy-joern" class="level-1">Запуск сервера (локальный Joern)</a></li>
<li><a href="#zapusk-servera-v-docker" class="level-1">Запуск сервера в Docker</a></li>
<li><a href="#ostanovka-servera" class="level-1">Остановка сервера</a></li>
<li><a href="#upravlenie-proektami" class="level-3">Управление проектами</a></li>
<li><a href="#spisok-vseh-importirovannyh-proektov" class="level-1">Список всех импортированных проектов</a></li>
<li><a href="#informatsiya-o-proekte" class="level-1">Информация о проекте</a></li>
<li><a href="#aktivatsiya-proekta-ustanovka-v-kachestve-tekuschego" class="level-1">Активация проекта (установка в качестве текущего)</a></li>
<li><a href="#udalenie-proekta-tolko-metadannye" class="level-1">Удаление проекта (только метаданные)</a></li>
<li><a href="#udalenie-proekta-vmeste-s-faylami-cpg-duckdb" class="level-1">Удаление проекта вместе с файлами (CPG, DuckDB)</a></li>
<li><a href="#poshagovyy-import" class="level-3">Пошаговый импорт</a></li>
<li><a href="#1-klonirovanie-repozitoriya" class="level-1">1. Клонирование репозитория</a></li>
<li><a href="#2-opredelenie-yazyka" class="level-1">2. Определение языка</a></li>
<li><a href="#3-sozdanie-cpg" class="level-1">3. Создание CPG</a></li>
<li><a href="#4-eksport-v-duckdb" class="level-1">4. Экспорт в DuckDB</a></li>
<li><a href="#5-proverka" class="level-1">5. Проверка</a></li>
<li><a href="#6-import-dokumentatsii" class="level-1">6. Импорт документации</a></li>
<li><a href="#7-sozdanie-domain-plugin" class="level-1">7. Создание Domain Plugin</a></li>
<li><a href="#spisok-podderzhivaemyh-yazykov" class="level-3">Список поддерживаемых языков</a></li>
<li><a href="#ispolzovanie-rest-api" class="level-2">Использование REST API</a></li>
<li><a href="#poluchit-spisok-podderzhivaemyh-yazykov" class="level-3">Получить список поддерживаемых языков</a></li>
<li><a href="#zapusk-importa-asinhronno" class="level-3">Запуск импорта (асинхронно)</a></li>
<li><a href="#proverka-statusa-importa" class="level-3">Проверка статуса импорта</a></li>
<li><a href="#spisok-vseh-zadach-importa" class="level-3">Список всех задач импорта</a></li>
<li><a href="#otmena-importa" class="level-3">Отмена импорта</a></li>
<li><a href="#vypolnenie-otdelnogo-shaga" class="level-3">Выполнение отдельного шага</a></li>
<li><a href="#import-s-ispolzovaniem-docker" class="level-3">Импорт с использованием Docker</a></li>
<li><a href="#upravlenie-serverom-joern" class="level-3">Управление сервером Joern</a></li>
<li><a href="#upravlenie-proektami" class="level-3">Управление проектами</a></li>
<li><a href="#websocket-dlya-otslezhivaniya-hoda-vypolneniya" class="level-2">WebSocket для отслеживания хода выполнения</a></li>
<li><a href="#parametry-importa" class="level-2">Параметры импорта</a></li>
<li><a href="#rezhimy-importa" class="level-3">Режимы импорта</a></li>
<li><a href="#parametry-klonirovaniya" class="level-3">Параметры клонирования</a></li>
<li><a href="#parametry-joern" class="level-3">Параметры Joern</a></li>
<li><a href="#parametry-dokumentatsii" class="level-3">Параметры документации</a></li>
<li><a href="#rezultat-importa" class="level-2">Результат импорта</a></li>
<li><a href="#struktura-rezultata-projectimportresult" class="level-3">Структура результата (ProjectImportResult)</a></li>
<li><a href="#proverka-cpg" class="level-2">Проверка CPG</a></li>
<li><a href="#otsenka-kachestva-0100" class="level-3">Оценка качества (0–100)</a></li>
<li><a href="#proveryaemye-metriki" class="level-3">Проверяемые метрики</a></li>
<li><a href="#import-ishodnogo-koda" class="level-2">Импорт исходного кода</a></li>
<li><a href="#printsip-raboty" class="level-3">Принцип работы</a></li>
<li><a href="#podderzhivaemye-rasshireniya-faylov" class="level-3">Поддерживаемые расширения файлов</a></li>
<li><a href="#ogranichenie-po-razmeru-fayla" class="level-3">Ограничение по размеру файла</a></li>
<li><a href="#normalizatsiya-putey" class="level-3">Нормализация путей</a></li>
<li><a href="#statistika-importa" class="level-3">Статистика импорта</a></li>
<li><a href="#plagin-domena" class="level-2">Плагин домена</a></li>
<li><a href="#struktura-plagina" class="level-3">Структура плагина</a></li>
<li><a href="#srcdomainsllvm-projectpluginpy" class="level-1">src/domains/llvm_project/plugin.py</a></li>
<li><a href="#konfiguratsiya-subsystemsyaml" class="level-3">Конфигурация: subsystems.yaml</a></li>
<li><a href="#konfiguratsiya-promptsyaml" class="level-3">Конфигурация: prompts.yaml</a></li>
<li><a href="#aktivatsiya-plagina-domena" class="level-2">Активация плагина домена</a></li>
<li><a href="#configyaml" class="level-1">config.yaml</a></li>
<li><a href="#rabota-s-bolshimi-repozitoriyami" class="level-2">Работа с большими репозиториями</a></li>
<li><a href="#llvm-milliony-strok-koda" class="level-3">LLVM (миллионы строк кода)</a></li>
<li><a href="#ispolzovat-neglubokoe-klonirovanie" class="level-1">Использовать неглубокое клонирование</a></li>
<li><a href="#ili-vyborochnyy-import" class="level-1">Или выборочный импорт</a></li>
<li><a href="#uvelichit-obem-pamyati-dlya-joern" class="level-1">Увеличить объем памяти для Joern</a></li>
<li><a href="#rekomendatsii" class="level-3">Рекомендации</a></li>
<li><a href="#python-api" class="level-2">Python API</a></li>
<li><a href="#sozdanie-zaprosa" class="level-1">Создание запроса</a></li>
<li><a href="#zapusk-konveyera" class="level-1">Запуск конвейера</a></li>
<li><a href="#zapusk-otdelnyh-shagov" class="level-3">Запуск отдельных шагов</a></li>
<li><a href="#kontekst-shaga" class="level-1">Контекст шага</a></li>
<li><a href="#vypolnenie-shaga-validatsii" class="level-1">Выполнение шага валидации</a></li>
<li><a href="#ustranenie-nepoladok" class="level-2">Устранение неполадок</a></li>
<li><a href="#ne-nayden-interfeys-joern" class="level-3">Не найден интерфейс Joern</a></li>
<li><a href="#nedostatochno-pamyati-dlya-joern" class="level-3">Недостаточно памяти для Joern</a></li>
<li><a href="#yazyk-ne-raspoznan" class="level-3">Язык не распознан</a></li>
<li><a href="#oshibka-proverki-cpg" class="level-3">Ошибка проверки CPG</a></li>
<li><a href="#konfiguratsiya-configyaml" class="level-2">Конфигурация (config.yaml)</a></li>
<li><a href="#arhitektura-komponentov" class="level-2">Архитектура компонентов</a></li>
<li><a href="#joernservermanager" class="level-3">JoernServerManager</a></li>
<li><a href="#sozdanie-menedzhera" class="level-1">Создание менеджера</a></li>
<li><a href="#zapusk-servera" class="level-1">Запуск сервера</a></li>
<li><a href="#poluchenie-klienta" class="level-1">Получение клиента</a></li>
<li><a href="#ostanovka-servera" class="level-1">Остановка сервера</a></li>
<li><a href="#projectregistry" class="level-3">ProjectRegistry</a></li>
<li><a href="#localjoernrunner-dockerjoernrunner" class="level-3">LocalJoernRunner / DockerJoernRunner</a></li>
<li><a href="#lokalnoe-vypolnenie" class="level-1">Локальное выполнение</a></li>
<li><a href="#vypolnenie-v-docker" class="level-1">Выполнение в Docker</a></li>
<li><a href="#zapusk-frontend" class="level-1">Запуск frontend</a></li>
<li><a href="#smotrite-takzhe" class="level-2">Смотрите также</a></li>
      </ul>
    </aside>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <img src="../../../assets/svg/logo.svg" alt="CodeGraph" width="160" height="40">
          <p>AI-копилот для анализа исходного кода</p>
        </div>
        <div class="footer-links">
          <div class="footer-links-group">
            <h4>Продукт</h4>
            <ul class="footer-links-list">
              <li><a href="../../../index.html#features" class="footer-link">Возможности</a></li>
              <li><a href="../../../index.html#integrations" class="footer-link">Интеграции</a></li>
              <li><a href="../../../index.html#faq" class="footer-link">FAQ</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Документация</h4>
            <ul class="footer-links-list">
              <li><a href="../getting-started/index.html" class="footer-link">Начало работы</a></li>
              <li><a href="../guides/index.html" class="footer-link">Руководства</a></li>
              <li><a href="../api/index.html" class="footer-link">API</a></li>
              <li><a href="../enterprise/index.html" class="footer-link">Enterprise</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Ресурсы</h4>
            <ul class="footer-links-list">
              <li><a href="../../../whitepaper.html" class="footer-link">Whitepaper</a></li>
            </ul>
          </div>
          <div class="footer-links-group">
            <h4>Контакты</h4>
            <ul class="footer-links-list">
              <li><a href="mailto:hello@codegraph.ru" class="footer-link">hello@codegraph.ru</a></li>
              <li><a href="https://t.me/codegraph" class="footer-link" target="_blank" rel="noopener">Telegram</a></li>
              <li><a href="https://github.com/codegraph" class="footer-link" target="_blank" rel="noopener">GitHub</a></li>
            </ul>
            <div class="footer-social">
              <a href="https://t.me/codegraph" class="footer-social-link" target="_blank" rel="noopener" aria-label="Telegram">
                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                </svg>
              </a>
              <a href="https://github.com/codegraph" class="footer-social-link" target="_blank" rel="noopener" aria-label="GitHub">
                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 CodeGraph. Все права защищены.</p>
      </div>
    </div>
  </footer>

  <script src="../../../js/main.js"></script>
</body>
</html>
