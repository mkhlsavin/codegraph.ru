<!-- FAQ Section -->
<section id="faq" class="section faq">
  <div class="container">
    <h2 class="section-title">Часто задаваемые вопросы</h2>
    <p class="section-subtitle">Ответы на вопросы корпоративных клиентов</p>

    <div class="faq-search">
      <input type="text" id="faq-search" class="faq-search-input" placeholder="Поиск по вопросам...">
      <svg class="faq-search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"/>
        <path d="M21 21l-4.35-4.35"/>
      </svg>
    </div>

    <div class="faq-categories">
      <button class="faq-category-btn active" data-category="all">Все</button>
      <button class="faq-category-btn" data-category="general">Общие</button>
      <button class="faq-category-btn" data-category="security">Безопасность</button>
      <button class="faq-category-btn" data-category="deploy">Развёртывание</button>
      <button class="faq-category-btn" data-category="enterprise">Корпоративное</button>
      <button class="faq-category-btn" data-category="compliance">Соответствие</button>
      <button class="faq-category-btn" data-category="comparison">Сравнение</button>
      <button class="faq-category-btn" data-category="support">Поддержка</button>
    </div>

    <div class="faq-list">
      <!-- GENERAL -->
      <div class="faq-item" data-category="general">
        <button class="faq-question">
          <span>Какие языки программирования поддерживаются?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>CodeGraph поддерживает <strong>13 языков программирования</strong> на промышленном уровне:</p>
          <ul>
            <li>Системные: C/C++, Swift</li>
            <li>Enterprise: Java, C#, Kotlin</li>
            <li>Web: JavaScript, TypeScript, PHP, Ruby</li>
            <li>Scripting: Python, Go</li>
            <li>Бинарный анализ: Ghidra, LLVM IR</li>
          </ul>
        </div>
      </div>

      <div class="faq-item" data-category="general">
        <button class="faq-question">
          <span>Какую окупаемость инвестиций можно ожидать?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p><strong>Ускорение в 6-600 раз</strong> в зависимости от сценария:</p>
          <ul>
            <li>Адаптация новых сотрудников: в 6 раз (с 3-6 мес до 2-4 недель)</li>
            <li>Аудит безопасности: в 40 раз (с 2-4 недель до 2-4 часов)</li>
            <li>Проверка кода: в 10 раз (с 2-4 часов до 10-15 минут)</li>
            <li>Поиск функций: в 600 раз (с 5-30 мин до 2-3 секунд)</li>
          </ul>
          <p>Для команды 50 разработчиков экономия ~<strong>60 млн руб./год</strong>.</p>
        </div>
      </div>

      <div class="faq-item" data-category="general">
        <button class="faq-question">
          <span>Какая точность обнаружения уязвимостей?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p><strong>100% обнаружение CVE</strong> на тестовом наборе (3/3 целевых CVE).</p>
          <p><strong>−60% ложных срабатываний</strong> благодаря Taint Verification — мы проверяем реальный поток данных от источника до приёмника, а не просто сопоставление шаблонов.</p>
          <p>F1@10: <strong>+33.6%</strong> по сравнению с чисто векторными подходами.</p>
        </div>
      </div>

      <!-- SECURITY -->
      <div class="faq-item" data-category="security">
        <button class="faq-question">
          <span>Куда уходят данные о нашем коде?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p><strong>Никуда.</strong> CodeGraph разворачивается локально внутри вашей инфраструктуры. Код анализируется на месте.</p>
          <p>GigaChat API получает только текстовые запросы (вопросы пользователей и сгенерированные промпты), но не исходный код.</p>
        </div>
      </div>

      <div class="faq-item" data-category="security">
        <button class="faq-question">
          <span>Можно ли развернуть в изолированном контуре?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p><strong>Да.</strong> CodeGraph поддерживает изолированное развёртывание. В этом режиме вместо GigaChat API используются локальные LLM-модели (Llama 3, Mistral).</p>
          <p>Качество ответов будет немного ниже, но система полностью функциональна без внешних зависимостей.</p>
        </div>
      </div>

      <!-- ENTERPRISE -->
      <div class="faq-item" data-category="enterprise">
        <button class="faq-question">
          <span>Как работает DLP защита для LLM?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p><strong>25+ шаблонов</strong> обнаружения конфиденциальных данных:</p>
          <ul>
            <li>Учётные данные: API-ключи, пароли, токены доступа</li>
            <li>Персональные данные: email, телефоны, адреса, ИНН</li>
            <li>Шаблоны исходного кода</li>
          </ul>
          <p>Режимы работы: <strong>Блокировать</strong> (запрос), <strong>Маскировать</strong> (данные), <strong>Предупреждать</strong>, <strong>Журналировать</strong>.</p>
          <p>Фильтрация применяется как <strong>до</strong> отправки в LLM, так и <strong>после</strong> получения ответа.</p>
        </div>
      </div>

      <div class="faq-item" data-category="enterprise">
        <button class="faq-question">
          <span>Какие SIEM системы поддерживаются?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>CodeGraph интегрируется с <strong>любой SIEM системой</strong> через 3 формата:</p>
          <ul>
            <li><strong>Syslog RFC 5424</strong> — универсальный формат</li>
            <li><strong>CEF (Common Event Format)</strong> — ArcSight</li>
            <li><strong>LEEF (Log Event Extended Format)</strong> — IBM QRadar</li>
          </ul>
          <p>Splunk, Elastic SIEM, MaxPatrol также поддерживаются через Syslog.</p>
        </div>
      </div>

      <div class="faq-item" data-category="enterprise">
        <button class="faq-question">
          <span>Как интегрируется HashiCorp Vault?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>Поддерживаются три метода аутентификации:</p>
          <ul>
            <li><strong>Token</strong> — для простых сценариев</li>
            <li><strong>AppRole</strong> — для автоматизации (CI/CD)</li>
            <li><strong>Kubernetes</strong> — service account tokens</li>
          </ul>
          <p>Автоматическая ротация API keys с настраиваемым TTL. Все секреты хранятся в Vault, а не в конфигах.</p>
        </div>
      </div>

      <!-- COMPLIANCE -->
      <div class="faq-item" data-category="compliance">
        <button class="faq-question">
          <span>Соответствует ли CodeGraph 152-ФЗ?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p><strong>Да.</strong> Все данные обрабатываются локально. При использовании GigaChat или Yandex AI Studio данные не покидают территорию РФ.</p>
          <p>Встроенная DLP предотвращает утечку персональных данных через LLM промпты.</p>
        </div>
      </div>

      <div class="faq-item" data-category="compliance">
        <button class="faq-question">
          <span>Как обеспечивается соответствие ГОСТ Р 57580?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>CodeGraph обеспечивает:</p>
          <ul>
            <li>Полный аудит операций (SIEM интеграция)</li>
            <li>RBAC с <strong>4 ролями и 21 разрешением</strong></li>
            <li>Шифрование данных в состоянии покоя</li>
            <li>Локальное развёртывание в сертифицированной инфраструктуре</li>
          </ul>
        </div>
      </div>

      <div class="faq-item" data-category="compliance">
        <button class="faq-question">
          <span>Можно ли получить сертификацию ФСТЭК?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>Сертификация ФСТЭК в плане развития. Архитектура спроектирована для развертывания в сертифицированной инфраструктуре.</p>
          <p>Текущий статус: подготовка документации для сертификации.</p>
        </div>
      </div>

      <!-- COMPARISON -->
      <div class="faq-item" data-category="comparison">
        <button class="faq-question">
          <span>Чем CodeGraph отличается от GitHub Copilot?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>GitHub Copilot — облачное решение без локального развёртывания. CodeGraph:</p>
          <ul>
            <li>✅ Локальное / изолированное развёртывание</li>
            <li>✅ Интегрированная DLP (25+ шаблонов)</li>
            <li>✅ SIEM в 3 форматах</li>
            <li>✅ HashiCorp Vault интеграция</li>
            <li>✅ Верифицированные уязвимости через анализ потоков данных</li>
            <li>✅ Российские LLM (GigaChat, Yandex AI Studio)</li>
            <li>✅ Соответствие 152-ФЗ</li>
          </ul>
        </div>
      </div>

      <div class="faq-item" data-category="comparison">
        <button class="faq-question">
          <span>Чем CodeGraph отличается от SonarQube?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>SonarQube — классический SAST без AI. CodeGraph добавляет:</p>
          <ul>
            <li>✅ AI-копилот для вопросов о коде</li>
            <li>✅ Code Property Graph (не только AST)</li>
            <li>✅ Проверка потоков данных (−60% ложных срабатываний)</li>
            <li>✅ Гибридный поиск (векторный + графовый)</li>
            <li>✅ 17 сценариев использования (не только security)</li>
          </ul>
          <p>SonarQube находит проблемы, CodeGraph объясняет <strong>почему</strong> это проблема и <strong>как</strong> её исправить.</p>
        </div>
      </div>

      <div class="faq-item" data-category="comparison">
        <button class="faq-question">
          <span>Почему не Sourcegraph Cody?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>Sourcegraph Cody не имеет:</p>
          <ul>
            <li>❌ Встроенной защиты от утечек</li>
            <li>❌ SIEM интеграции</li>
            <li>❌ Vault поддержки</li>
            <li>❌ Российских LLM (GigaChat, Yandex AI Studio)</li>
            <li>❌ Соответствия 152-ФЗ</li>
          </ul>
          <p>Для корпоративных клиентов в РФ CodeGraph — единственный вариант с полным набором функций для соблюдения нормативных требований.</p>
        </div>
      </div>

      <!-- DEPLOY -->
      <div class="faq-item" data-category="deploy">
        <button class="faq-question">
          <span>Сколько времени занимает индексация кодовой базы?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>Примерно <strong>30 минут для 1 миллиона строк кода</strong> на стандартном железе.</p>
          <p>PostgreSQL 17 (~1M строк) индексируется за 25-35 минут. Инкрементальная переиндексация при изменениях занимает секунды.</p>
        </div>
      </div>

      <div class="faq-item" data-category="deploy">
        <button class="faq-question">
          <span>Какие требования к инфраструктуре?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p><strong>Минимум:</strong> 8GB RAM, 4 CPU cores, 50GB storage</p>
          <p><strong>Рекомендуется:</strong> 16GB RAM, 8 cores, SSD</p>
          <p>Для промышленной эксплуатации с высокой нагрузкой: кластер Kubernetes с автомасштабированием.</p>
        </div>
      </div>

      <div class="faq-item" data-category="deploy">
        <button class="faq-question">
          <span>Есть ли интеграция с нашим CI/CD?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>Сейчас готовы интеграции с <strong>GitHub Actions</strong> и <strong>GitLab CI</strong>.</p>
          <p>Jenkins и TeamCity в плане на 2-й квартал 2025. Также есть REST API для пользовательской интеграции.</p>
        </div>
      </div>

      <div class="faq-item" data-category="deploy">
        <button class="faq-question">
          <span>Как интегрироваться с Yandex Cloud?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>Готовые <strong>Helm charts</strong> для Yandex Managed Kubernetes.</p>
          <p>Поддержка <strong>Yandex AI Studio</strong> с моделями:</p>
          <ul>
            <li>YandexGPT Pro (32K контекст)</li>
            <li>Qwen3-235B (262K контекст)</li>
            <li>gpt-oss-120b, Gemma 3</li>
          </ul>
        </div>
      </div>

      <div class="faq-item" data-category="deploy">
        <button class="faq-question">
          <span>Есть ли поддержка многопользовательского режима?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p><strong>Да.</strong> Изоляция через группы проектов:</p>
          <ul>
            <li>RBAC с отдельными разрешениями для каждой группы</li>
            <li>Отдельные API-ключи для каждого клиента</li>
            <li>Изолированные базы CPG</li>
          </ul>
          <p>В плане развития: изоляция пространств имён в Kubernetes для полной изоляции.</p>
        </div>
      </div>

      <!-- SUPPORT -->
      <div class="faq-item" data-category="support">
        <button class="faq-question">
          <span>Какой SLA?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p><strong>99.9% доступность</strong> для корпоративного тарифа.</p>
          <p>Время реакции: 4 часа для критических проблем, 24 часа для важных, 72 часа для средних.</p>
          <p>Выделенный Slack/Telegram-канал для корпоративных клиентов.</p>
        </div>
      </div>

      <div class="faq-item" data-category="support">
        <button class="faq-question">
          <span>Как происходит обновление?</span>
          <span class="faq-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg></span>
        </button>
        <div class="faq-answer">
          <p>Docker-образы с <strong>семантическим версионированием</strong>.</p>
          <p>Обновления без простоя через плавное развёртывание Kubernetes. Автоматические исправления безопасности.</p>
          <p>Журнал изменений и руководства по миграции для каждого релиза.</p>
        </div>
      </div>
    </div>
  </div>
</section>
