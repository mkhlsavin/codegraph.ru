<!-- Solution Section -->
<section id="solution" class="section solution">
  <div class="container">
    <h2 class="section-title">Как работает CodeGraph?</h2>
    <p class="section-subtitle">Yandex AI + Code Property Graph + гибридный поиск + 13 агентов</p>

    <div class="solution-demo">
      <div class="demo-input-section">
        <h3>Попробуйте сами</h3>
        <div class="demo-form">
          <input type="text" id="question-input" placeholder="Введите вопрос о коде PostgreSQL..." value="">
          <button id="ask-btn" class="btn btn-primary">Спросить</button>
        </div>
        <div class="demo-examples">
          <span>Примеры:</span>
          <button class="demo-example-btn" data-query="Как устроена авторизация?">Авторизация</button>
          <button class="demo-example-btn" data-query="Как работает MVCC в PostgreSQL?">Как работает MVCC?</button>
          <button class="demo-example-btn" data-query="Покажи callers функции palloc">Callers palloc</button>
        </div>
        <div class="demo-notice">
          <strong>Демо-режим:</strong> Эта демонстрация работает на кодовой базе PostgreSQL. Для анализа вашего кода <a href="mailto:hello@codegraph.ru">свяжитесь с нами</a>
        </div>
      </div>

      <div class="pipeline">
        <div class="pipeline-step" data-step="1">
          <div class="pipeline-step-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 6v6l4 2"/>
            </svg>
          </div>
          <div class="pipeline-step-content">
            <h4>1. Анализ запроса</h4>
            <p>Yandex AI/GigaChat понимает намерение и извлекает ключевые сущности</p>
            <div class="step-detail" id="step-1-detail"></div>
          </div>
        </div>

        <div class="pipeline-connector"></div>

        <div class="pipeline-step" data-step="2">
          <div class="pipeline-step-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/>
              <path d="M21 21l-4.35-4.35"/>
            </svg>
          </div>
          <div class="pipeline-step-content">
            <h4>2. Гибридный поиск</h4>
            <p>Поиск по векторной базе (250K+ документов) и графу кода (52K методов) PostgreSQL</p>
            <div class="step-detail" id="step-2-detail"></div>
          </div>
        </div>

        <div class="pipeline-connector"></div>

        <div class="pipeline-step" data-step="3">
          <div class="pipeline-step-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="16 18 22 12 16 6"/>
              <polyline points="8 6 2 12 8 18"/>
            </svg>
          </div>
          <div class="pipeline-step-content">
            <h4>3. Генерация запроса</h4>
            <p>Yandex AI/GigaChat генерирует SQL/PGQ запрос к графу кода</p>
            <div class="step-detail" id="step-3-detail"></div>
          </div>
        </div>

        <div class="pipeline-connector"></div>

        <div class="pipeline-step" data-step="4">
          <div class="pipeline-step-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
          </div>
          <div class="pipeline-step-content">
            <h4>4. Интерпретация</h4>
            <p>Yandex AI/GigaChat синтезирует понятный ответ с рекомендациями</p>
            <div class="step-detail" id="step-4-detail"></div>
          </div>
        </div>
      </div>

      <div class="demo-result" id="demo-result">
        <div class="result-placeholder">
          <p>Выберите пример или введите свой вопрос</p>
        </div>
      </div>
    </div>
  </div>
</section>
